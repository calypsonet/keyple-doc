<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1632px" preserveAspectRatio="none" style="width:1538px;height:1632px;" version="1.1" viewBox="0 0 1538 1632" width="1538px" zoomAndPan="magnify"><defs><filter height="300%" id="fg8b39ntxz4fm" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster org.eclipse.keyple--><polygon fill="#FFFFFF" filter="url(#fg8b39ntxz4fm)" points="22,24.5,157,24.5,164,48.1094,1516,48.1094,1516,1620,22,1620,22,24.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="22" x2="164" y1="48.1094" y2="48.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="129" x="26" y="41.0332">org.eclipse.keyple</text><!--cluster seproxy--><polygon fill="#FFFFFF" filter="url(#fg8b39ntxz4fm)" points="46,68.5,108,68.5,115,92.1094,1492,92.1094,1492,1338,46,1338,46,68.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="46" x2="115" y1="92.1094" y2="92.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="56" x="50" y="85.0332">seproxy</text><!--cluster protocol--><polygon fill="#FFFFFF" filter="url(#fg8b39ntxz4fm)" points="686,662.5,751,662.5,758,686.1094,1241,686.1094,1241,900.5,686,900.5,686,662.5" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="686" x2="758" y1="686.1094" y2="686.1094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="690" y="679.0332">protocol</text><!--cluster util--><polygon fill="#FFFFFF" filter="url(#fg8b39ntxz4fm)" points="343,1371,371,1371,378,1394.6094,671,1394.6094,671,1596,343,1596,343,1371" style="stroke: #000000; stroke-width: 1.5;"/><line style="stroke: #000000; stroke-width: 1.5;" x1="343" x2="378" y1="1394.6094" y2="1394.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="22" x="347" y="1387.5332">util</text><!--class ProxyReader--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="89.5078" id="ProxyReader" style="stroke: #A80036; stroke-width: 1.5;" width="356" x="241" y="508.5"/><ellipse cx="373.25" cy="524.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M374.2031,521.1406 L374.2031,527.7969 L375.9219,527.7969 Q376.5313,527.7969 376.7969,528.0313 Q377.0625,528.2656 377.0625,528.6563 Q377.0625,529.0313 376.7969,529.2656 Q376.5313,529.5 375.9219,529.5 L370.7813,529.5 Q370.1719,529.5 369.9063,529.2656 Q369.6406,529.0313 369.6406,528.6406 Q369.6406,528.2656 369.9063,528.0313 Q370.1719,527.7969 370.7813,527.7969 L372.5,527.7969 L372.5,521.1406 L370.7813,521.1406 Q370.1719,521.1406 369.9063,520.9063 Q369.6406,520.6719 369.6406,520.2813 Q369.6406,519.9063 369.9063,519.6719 Q370.1719,519.4375 370.7813,519.4375 L375.9219,519.4375 Q376.5313,519.4375 376.7969,519.6719 Q377.0625,519.9063 377.0625,520.2813 Q377.0625,520.6719 376.7969,520.9063 Q376.5313,521.1406 375.9219,521.1406 L374.2031,521.1406 Z "/><ellipse cx="398.75" cy="524" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="72" x="404.75" y="529.4102">ProxyReader</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="596" y1="540.5" y2="540.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="242" x2="596" y1="548.5" y2="548.5"/><ellipse cx="252" cy="560.918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="261" y="563.9189">boolean isSePresent()</text><ellipse cx="252" cy="574.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="309" x="261" y="577.7549">void addSeProtocolSetting(SeProtocolSetting seProtocolSetting);</text><ellipse cx="252" cy="588.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="123" x="261" y="591.5908">SeResponseSet transmit(</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="384" y="591.5908">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="181" x="410" y="591.5908">SeRequestSet seApplicationRequest)</text><!--class SeRequestSet--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="117.1797" id="SeRequestSet" style="stroke: #A80036; stroke-width: 1.5;" width="292" x="213" y="285.5"/><ellipse cx="295.75" cy="301.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M298.5156,297.375 Q298.6719,297.1563 298.8594,297.0469 Q299.0469,296.9375 299.2656,296.9375 Q299.6406,296.9375 299.875,297.1953 Q300.1094,297.4531 300.1094,298.0625 L300.1094,299.5156 Q300.1094,300.125 299.875,300.3906 Q299.6406,300.6563 299.2656,300.6563 Q298.9219,300.6563 298.7188,300.4531 Q298.5156,300.2656 298.4063,299.75 Q298.3594,299.3906 298.1719,299.2031 Q297.8438,298.8281 297.2344,298.6094 Q296.625,298.3906 296,298.3906 Q295.2344,298.3906 294.6016,298.7188 Q293.9688,299.0469 293.4766,299.7969 Q292.9844,300.5469 292.9844,301.5781 L292.9844,302.6719 Q292.9844,303.9063 293.875,304.7266 Q294.7656,305.5469 296.3594,305.5469 Q297.2969,305.5469 297.9531,305.2969 Q298.3438,305.1406 298.7656,304.7031 Q299.0313,304.4375 299.1797,304.3594 Q299.3281,304.2813 299.5313,304.2813 Q299.8594,304.2813 300.1172,304.5391 Q300.375,304.7969 300.375,305.1406 Q300.375,305.4844 300.0313,305.8906 Q299.5313,306.4688 298.7344,306.7969 Q297.6563,307.25 296.3594,307.25 Q294.8438,307.25 293.6406,306.625 Q292.6563,306.125 291.9688,305.0547 Q291.2813,303.9844 291.2813,302.7031 L291.2813,301.5469 Q291.2813,300.2188 291.8984,299.0703 Q292.5156,297.9219 293.6094,297.3047 Q294.7031,296.6875 295.9375,296.6875 Q296.6719,296.6875 297.3203,296.8516 Q297.9688,297.0156 298.5156,297.375 Z "/><ellipse cx="321.25" cy="301" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="327.25" y="306.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="354.25" y="306.4102">SeRequestSet</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="214" x2="504" y1="317.5" y2="317.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="221" y="326.918"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="233" y="332.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="240" x="259" y="332.9189">LinkedHashSet&lt;SeRequest&gt; orderedSetRequests</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="214" x2="504" y1="339.3359" y2="339.3359"/><ellipse cx="224" cy="351.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="219" x="233" y="354.7549">SeRequestSet(Set&lt;SeRequest&gt; seRequests)</text><ellipse cx="224" cy="365.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="185" x="233" y="368.5908">SeRequestSet(SeRequest seRequest)</text><ellipse cx="224" cy="379.4258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="153" x="233" y="382.4268">Set&lt;SeRequest&gt; getRequests()</text><ellipse cx="224" cy="393.2617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="148" x="233" y="396.2627">SeRequest getSingleRequest()</text><!--class SeResponseSet--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="117.1797" id="SeResponseSet" style="stroke: #A80036; stroke-width: 1.5;" width="273" x="62.5" y="733"/><ellipse cx="130.25" cy="749" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M133.0156,744.875 Q133.1719,744.6563 133.3594,744.5469 Q133.5469,744.4375 133.7656,744.4375 Q134.1406,744.4375 134.375,744.6953 Q134.6094,744.9531 134.6094,745.5625 L134.6094,747.0156 Q134.6094,747.625 134.375,747.8906 Q134.1406,748.1563 133.7656,748.1563 Q133.4219,748.1563 133.2188,747.9531 Q133.0156,747.7656 132.9063,747.25 Q132.8594,746.8906 132.6719,746.7031 Q132.3438,746.3281 131.7344,746.1094 Q131.125,745.8906 130.5,745.8906 Q129.7344,745.8906 129.1016,746.2188 Q128.4688,746.5469 127.9766,747.2969 Q127.4844,748.0469 127.4844,749.0781 L127.4844,750.1719 Q127.4844,751.4063 128.375,752.2266 Q129.2656,753.0469 130.8594,753.0469 Q131.7969,753.0469 132.4531,752.7969 Q132.8438,752.6406 133.2656,752.2031 Q133.5313,751.9375 133.6797,751.8594 Q133.8281,751.7813 134.0313,751.7813 Q134.3594,751.7813 134.6172,752.0391 Q134.875,752.2969 134.875,752.6406 Q134.875,752.9844 134.5313,753.3906 Q134.0313,753.9688 133.2344,754.2969 Q132.1563,754.75 130.8594,754.75 Q129.3438,754.75 128.1406,754.125 Q127.1563,753.625 126.4688,752.5547 Q125.7813,751.4844 125.7813,750.2031 L125.7813,749.0469 Q125.7813,747.7188 126.3984,746.5703 Q127.0156,745.4219 128.1094,744.8047 Q129.2031,744.1875 130.4375,744.1875 Q131.1719,744.1875 131.8203,744.3516 Q132.4688,744.5156 133.0156,744.875 Z "/><ellipse cx="155.75" cy="748.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="161.75" y="753.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="188.75" y="753.9102">SeResponseSet</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="334.5" y1="765" y2="765"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="70.5" y="774.418"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="82.5" y="780.4189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="189" x="108.5" y="780.4189">ArrayList&lt;SeResponse&gt; seResponses</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="63.5" x2="334.5" y1="786.8359" y2="786.8359"/><ellipse cx="73.5" cy="799.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="247" x="82.5" y="802.2549">SeResponseSet(List&lt;SeResponse&gt; seResponses)</text><ellipse cx="73.5" cy="813.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="212" x="82.5" y="816.0908">SeResponseSet(SeResponse seResponse)</text><ellipse cx="73.5" cy="826.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="172" x="82.5" y="829.9268">List&lt;SeResponse&gt; getResponses()</text><ellipse cx="73.5" cy="840.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="166" x="82.5" y="843.7627">SeResponse getSingleResponse()</text><!--class ApduRequest--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="89.5078" id="ApduRequest" style="stroke: #A80036; stroke-width: 1.5;" width="260" x="1017" y="508.5"/><ellipse cx="1086.25" cy="524.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1089.0156,520.375 Q1089.1719,520.1563 1089.3594,520.0469 Q1089.5469,519.9375 1089.7656,519.9375 Q1090.1406,519.9375 1090.375,520.1953 Q1090.6094,520.4531 1090.6094,521.0625 L1090.6094,522.5156 Q1090.6094,523.125 1090.375,523.3906 Q1090.1406,523.6563 1089.7656,523.6563 Q1089.4219,523.6563 1089.2188,523.4531 Q1089.0156,523.2656 1088.9063,522.75 Q1088.8594,522.3906 1088.6719,522.2031 Q1088.3438,521.8281 1087.7344,521.6094 Q1087.125,521.3906 1086.5,521.3906 Q1085.7344,521.3906 1085.1016,521.7188 Q1084.4688,522.0469 1083.9766,522.7969 Q1083.4844,523.5469 1083.4844,524.5781 L1083.4844,525.6719 Q1083.4844,526.9063 1084.375,527.7266 Q1085.2656,528.5469 1086.8594,528.5469 Q1087.7969,528.5469 1088.4531,528.2969 Q1088.8438,528.1406 1089.2656,527.7031 Q1089.5313,527.4375 1089.6797,527.3594 Q1089.8281,527.2813 1090.0313,527.2813 Q1090.3594,527.2813 1090.6172,527.5391 Q1090.875,527.7969 1090.875,528.1406 Q1090.875,528.4844 1090.5313,528.8906 Q1090.0313,529.4688 1089.2344,529.7969 Q1088.1563,530.25 1086.8594,530.25 Q1085.3438,530.25 1084.1406,529.625 Q1083.1563,529.125 1082.4688,528.0547 Q1081.7813,526.9844 1081.7813,525.7031 L1081.7813,524.5469 Q1081.7813,523.2188 1082.3984,522.0703 Q1083.0156,520.9219 1084.1094,520.3047 Q1085.2031,519.6875 1086.4375,519.6875 Q1087.1719,519.6875 1087.8203,519.8516 Q1088.4688,520.0156 1089.0156,520.375 Z "/><ellipse cx="1111.75" cy="524" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="1117.75" y="529.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="75" x="1144.75" y="529.4102">ApduRequest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1018" x2="1276" y1="540.5" y2="540.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1025" y="549.918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="71" x="1037" y="555.9189">boolean case4</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1018" x2="1276" y1="562.3359" y2="562.3359"/><ellipse cx="1028" cy="574.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="234" x="1037" y="577.7549">ApduRequest(ByteBuffer bytes, boolean case4)</text><ellipse cx="1028" cy="588.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="88" x="1037" y="591.5908">boolean isCase4()</text><!--class ApduResponse--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="89.5078" id="ApduResponse" style="stroke: #A80036; stroke-width: 1.5;" width="293" x="746.5" y="981"/><ellipse cx="826.75" cy="997" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M829.5156,992.875 Q829.6719,992.6563 829.8594,992.5469 Q830.0469,992.4375 830.2656,992.4375 Q830.6406,992.4375 830.875,992.6953 Q831.1094,992.9531 831.1094,993.5625 L831.1094,995.0156 Q831.1094,995.625 830.875,995.8906 Q830.6406,996.1563 830.2656,996.1563 Q829.9219,996.1563 829.7188,995.9531 Q829.5156,995.7656 829.4063,995.25 Q829.3594,994.8906 829.1719,994.7031 Q828.8438,994.3281 828.2344,994.1094 Q827.625,993.8906 827,993.8906 Q826.2344,993.8906 825.6016,994.2188 Q824.9688,994.5469 824.4766,995.2969 Q823.9844,996.0469 823.9844,997.0781 L823.9844,998.1719 Q823.9844,999.4063 824.875,1000.2266 Q825.7656,1001.0469 827.3594,1001.0469 Q828.2969,1001.0469 828.9531,1000.7969 Q829.3438,1000.6406 829.7656,1000.2031 Q830.0313,999.9375 830.1797,999.8594 Q830.3281,999.7813 830.5313,999.7813 Q830.8594,999.7813 831.1172,1000.0391 Q831.375,1000.2969 831.375,1000.6406 Q831.375,1000.9844 831.0313,1001.3906 Q830.5313,1001.9688 829.7344,1002.2969 Q828.6563,1002.75 827.3594,1002.75 Q825.8438,1002.75 824.6406,1002.125 Q823.6563,1001.625 822.9688,1000.5547 Q822.2813,999.4844 822.2813,998.2031 L822.2813,997.0469 Q822.2813,995.7188 822.8984,994.5703 Q823.5156,993.4219 824.6094,992.8047 Q825.7031,992.1875 826.9375,992.1875 Q827.6719,992.1875 828.3203,992.3516 Q828.9688,992.5156 829.5156,992.875 Z "/><ellipse cx="852.25" cy="996.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="858.25" y="1001.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="86" x="885.25" y="1001.9102">ApduResponse</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="747.5" x2="1038.5" y1="1013" y2="1013"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="754.5" y="1022.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="95" x="766.5" y="1028.4189">boolean successful</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="747.5" x2="1038.5" y1="1034.8359" y2="1034.8359"/><ellipse cx="757.5" cy="1047.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="267" x="766.5" y="1050.2549">ApduResponse(ByteBuffer bytes, boolean successful)</text><ellipse cx="757.5" cy="1061.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="112" x="766.5" y="1064.0908">boolean isSuccessful()</text><!--class SeRequest--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="172.5234" id="SeRequest" style="stroke: #A80036; stroke-width: 1.5;" width="649" x="648.5" y="257.5"/><ellipse cx="918.75" cy="273.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M921.5156,269.375 Q921.6719,269.1563 921.8594,269.0469 Q922.0469,268.9375 922.2656,268.9375 Q922.6406,268.9375 922.875,269.1953 Q923.1094,269.4531 923.1094,270.0625 L923.1094,271.5156 Q923.1094,272.125 922.875,272.3906 Q922.6406,272.6563 922.2656,272.6563 Q921.9219,272.6563 921.7188,272.4531 Q921.5156,272.2656 921.4063,271.75 Q921.3594,271.3906 921.1719,271.2031 Q920.8438,270.8281 920.2344,270.6094 Q919.625,270.3906 919,270.3906 Q918.2344,270.3906 917.6016,270.7188 Q916.9688,271.0469 916.4766,271.7969 Q915.9844,272.5469 915.9844,273.5781 L915.9844,274.6719 Q915.9844,275.9063 916.875,276.7266 Q917.7656,277.5469 919.3594,277.5469 Q920.2969,277.5469 920.9531,277.2969 Q921.3438,277.1406 921.7656,276.7031 Q922.0313,276.4375 922.1797,276.3594 Q922.3281,276.2813 922.5313,276.2813 Q922.8594,276.2813 923.1172,276.5391 Q923.375,276.7969 923.375,277.1406 Q923.375,277.4844 923.0313,277.8906 Q922.5313,278.4688 921.7344,278.7969 Q920.6563,279.25 919.3594,279.25 Q917.8438,279.25 916.6406,278.625 Q915.6563,278.125 914.9688,277.0547 Q914.2813,275.9844 914.2813,274.7031 L914.2813,273.5469 Q914.2813,272.2188 914.8984,271.0703 Q915.5156,269.9219 916.6094,269.3047 Q917.7031,268.6875 918.9375,268.6875 Q919.6719,268.6875 920.3203,268.8516 Q920.9688,269.0156 921.5156,269.375 Z "/><ellipse cx="944.25" cy="273" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="950.25" y="278.4102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="977.25" y="278.4102">SeRequest</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="649.5" x2="1296.5" y1="289.5" y2="289.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="656.5" y="298.918"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="668.5" y="304.9189">Selector[0..1] selector</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="656.5" y="312.7539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="196" x="668.5" y="318.7549">ArrayList&lt;ApduRequest&gt; apduRequests</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="656.5" y="326.5898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="668.5" y="332.5908">SeProtocol[0..1] protocolFlag</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="656.5" y="340.4258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="668.5" y="346.4268">boolean keepChannelOpen</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="649.5" x2="1296.5" y1="352.8438" y2="352.8438"/><ellipse cx="659.5" cy="365.2617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="623" x="668.5" y="368.2627">SeRequest(Selector[0..1] selector, List&lt;ApduRequest&gt; apduRequests,  boolean keepChannelOpen, SeProtocol[0..1] protocolFlag)</text><ellipse cx="659.5" cy="379.0977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="106" x="668.5" y="382.0986">Selector getSelector()</text><ellipse cx="659.5" cy="392.9336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="668.5" y="395.9346">List&lt;ApduRequest&gt; getApduRequests()</text><ellipse cx="659.5" cy="406.7695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="147" x="668.5" y="409.7705">boolean isKeepChannelOpen()</text><ellipse cx="659.5" cy="420.6055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="137" x="668.5" y="423.6064">SeProtocol getProtocolFlag()</text><!--class SeResponse--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="172.5234" id="SeResponse" style="stroke: #A80036; stroke-width: 1.5;" width="684" x="165" y="1149"/><ellipse cx="447.25" cy="1165" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M450.0156,1160.875 Q450.1719,1160.6563 450.3594,1160.5469 Q450.5469,1160.4375 450.7656,1160.4375 Q451.1406,1160.4375 451.375,1160.6953 Q451.6094,1160.9531 451.6094,1161.5625 L451.6094,1163.0156 Q451.6094,1163.625 451.375,1163.8906 Q451.1406,1164.1563 450.7656,1164.1563 Q450.4219,1164.1563 450.2188,1163.9531 Q450.0156,1163.7656 449.9063,1163.25 Q449.8594,1162.8906 449.6719,1162.7031 Q449.3438,1162.3281 448.7344,1162.1094 Q448.125,1161.8906 447.5,1161.8906 Q446.7344,1161.8906 446.1016,1162.2188 Q445.4688,1162.5469 444.9766,1163.2969 Q444.4844,1164.0469 444.4844,1165.0781 L444.4844,1166.1719 Q444.4844,1167.4063 445.375,1168.2266 Q446.2656,1169.0469 447.8594,1169.0469 Q448.7969,1169.0469 449.4531,1168.7969 Q449.8438,1168.6406 450.2656,1168.2031 Q450.5313,1167.9375 450.6797,1167.8594 Q450.8281,1167.7813 451.0313,1167.7813 Q451.3594,1167.7813 451.6172,1168.0391 Q451.875,1168.2969 451.875,1168.6406 Q451.875,1168.9844 451.5313,1169.3906 Q451.0313,1169.9688 450.2344,1170.2969 Q449.1563,1170.75 447.8594,1170.75 Q446.3438,1170.75 445.1406,1170.125 Q444.1563,1169.625 443.4688,1168.5547 Q442.7813,1167.4844 442.7813,1166.2031 L442.7813,1165.0469 Q442.7813,1163.7188 443.3984,1162.5703 Q444.0156,1161.4219 445.1094,1160.8047 Q446.2031,1160.1875 447.4375,1160.1875 Q448.1719,1160.1875 448.8203,1160.3516 Q449.4688,1160.5156 450.0156,1160.875 Z "/><ellipse cx="472.75" cy="1164.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="24" x="478.75" y="1169.9102">final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="73" x="505.75" y="1169.9102">SeResponse</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="166" x2="848" y1="1181" y2="1181"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="173" y="1190.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="185" y="1196.4189">boolean channelPreviouslyOpen</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="173" y="1204.2539"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="185" y="1210.2549">ApduResponse[0..1] atr</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="173" y="1218.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="114" x="185" y="1224.0908">ApduResponse[0..1] fci</text><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="173" y="1231.9258"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="214" x="185" y="1237.9268">ArrayList&lt;ApduResponse&gt; apduResponses</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="166" x2="848" y1="1244.3438" y2="1244.3438"/><ellipse cx="176" cy="1256.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="658" x="185" y="1259.7627">SeResponse(boolean channelPreviouslyOpen, ApduResponse[0..1] atr, ApduResponse[0..1] fci, List&lt;ApduResponse&gt; apduResponses)</text><ellipse cx="176" cy="1270.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="186" x="185" y="1273.5986">boolean wasChannelPreviouslyOpen()</text><ellipse cx="176" cy="1284.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="116" x="185" y="1287.4346">ApduResponse getAtr()</text><ellipse cx="176" cy="1298.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="185" y="1301.2705">ApduResponse getFci()</text><ellipse cx="176" cy="1312.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="211" x="185" y="1315.1064">List&lt;ApduResponse&gt; getApduResponses()</text><!--class Selector--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="48" id="Selector" style="stroke: #A80036; stroke-width: 1.5;" width="123" x="1332.5" y="320"/><ellipse cx="1347.5" cy="336" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1349.6875,337.7656 L1345.5469,337.7656 L1345.125,338.7969 L1345.5469,338.7969 Q1346.1563,338.7969 1346.4219,339.0313 Q1346.6875,339.2656 1346.6875,339.6563 Q1346.6875,340.0313 1346.4219,340.2656 Q1346.1563,340.5 1345.5469,340.5 L1343.25,340.5 Q1342.6406,340.5 1342.3828,340.2656 Q1342.125,340.0313 1342.125,339.6406 Q1342.125,339.2656 1342.3984,339.0234 Q1342.6719,338.7813 1343.2969,338.7969 L1345.9688,332.1406 L1344.8594,332.1406 Q1344.25,332.1406 1343.9844,331.9063 Q1343.7188,331.6719 1343.7188,331.2813 Q1343.7188,330.9063 1343.9844,330.6719 Q1344.25,330.4375 1344.8594,330.4375 L1348.5313,330.4375 L1351.9219,338.7969 Q1352.5156,338.7969 1352.7031,338.9375 Q1353.0938,339.2031 1353.0938,339.6563 Q1353.0938,340.0313 1352.8359,340.2656 Q1352.5781,340.5 1351.9688,340.5 L1349.6719,340.5 Q1349.0625,340.5 1348.7969,340.2656 Q1348.5313,340.0313 1348.5313,339.6406 Q1348.5313,339.2656 1348.7969,339.0313 Q1349.0625,338.7969 1349.6719,338.7969 L1350.0938,338.7969 L1349.6875,337.7656 Z M1348.9688,336.0625 L1347.6094,332.6875 L1346.2344,336.0625 L1348.9688,336.0625 Z "/><ellipse cx="1366.5" cy="335.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="1372.5" y="340.9102">static</text><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="45" x="1407.5" y="340.9102">Selector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1333.5" x2="1454.5" y1="352" y2="352"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1333.5" x2="1454.5" y1="360" y2="360"/><!--class AidSelector--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="61.8359" id="AidSelector" style="stroke: #A80036; stroke-width: 1.5;" width="202" x="1274" y="111"/><ellipse cx="1304.75" cy="127" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1307.5156,122.875 Q1307.6719,122.6563 1307.8594,122.5469 Q1308.0469,122.4375 1308.2656,122.4375 Q1308.6406,122.4375 1308.875,122.6953 Q1309.1094,122.9531 1309.1094,123.5625 L1309.1094,125.0156 Q1309.1094,125.625 1308.875,125.8906 Q1308.6406,126.1563 1308.2656,126.1563 Q1307.9219,126.1563 1307.7188,125.9531 Q1307.5156,125.7656 1307.4063,125.25 Q1307.3594,124.8906 1307.1719,124.7031 Q1306.8438,124.3281 1306.2344,124.1094 Q1305.625,123.8906 1305,123.8906 Q1304.2344,123.8906 1303.6016,124.2188 Q1302.9688,124.5469 1302.4766,125.2969 Q1301.9844,126.0469 1301.9844,127.0781 L1301.9844,128.1719 Q1301.9844,129.4063 1302.875,130.2266 Q1303.7656,131.0469 1305.3594,131.0469 Q1306.2969,131.0469 1306.9531,130.7969 Q1307.3438,130.6406 1307.7656,130.2031 Q1308.0313,129.9375 1308.1797,129.8594 Q1308.3281,129.7813 1308.5313,129.7813 Q1308.8594,129.7813 1309.1172,130.0391 Q1309.375,130.2969 1309.375,130.6406 Q1309.375,130.9844 1309.0313,131.3906 Q1308.5313,131.9688 1307.7344,132.2969 Q1306.6563,132.75 1305.3594,132.75 Q1303.8438,132.75 1302.6406,132.125 Q1301.6563,131.625 1300.9688,130.5547 Q1300.2813,129.4844 1300.2813,128.2031 L1300.2813,127.0469 Q1300.2813,125.7188 1300.8984,124.5703 Q1301.5156,123.4219 1302.6094,122.8047 Q1303.7031,122.1875 1304.9375,122.1875 Q1305.6719,122.1875 1306.3203,122.3516 Q1306.9688,122.5156 1307.5156,122.875 Z "/><ellipse cx="1327.25" cy="126.5" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="1333.25" y="131.9102">static final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="62" x="1395.25" y="131.9102">AidSelector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1275" x2="1475" y1="143" y2="143"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1275" x2="1475" y1="151" y2="151"/><ellipse cx="1285" cy="163.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="176" x="1294" y="166.4189">AidSelector(ByteBuffer aidToSelect)</text><!--class AtrSelector--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="61.8359" id="AtrSelector" style="stroke: #A80036; stroke-width: 1.5;" width="164" x="1312" y="522.5"/><ellipse cx="1327" cy="538.5" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1329.7656,534.375 Q1329.9219,534.1563 1330.1094,534.0469 Q1330.2969,533.9375 1330.5156,533.9375 Q1330.8906,533.9375 1331.125,534.1953 Q1331.3594,534.4531 1331.3594,535.0625 L1331.3594,536.5156 Q1331.3594,537.125 1331.125,537.3906 Q1330.8906,537.6563 1330.5156,537.6563 Q1330.1719,537.6563 1329.9688,537.4531 Q1329.7656,537.2656 1329.6563,536.75 Q1329.6094,536.3906 1329.4219,536.2031 Q1329.0938,535.8281 1328.4844,535.6094 Q1327.875,535.3906 1327.25,535.3906 Q1326.4844,535.3906 1325.8516,535.7188 Q1325.2188,536.0469 1324.7266,536.7969 Q1324.2344,537.5469 1324.2344,538.5781 L1324.2344,539.6719 Q1324.2344,540.9063 1325.125,541.7266 Q1326.0156,542.5469 1327.6094,542.5469 Q1328.5469,542.5469 1329.2031,542.2969 Q1329.5938,542.1406 1330.0156,541.7031 Q1330.2813,541.4375 1330.4297,541.3594 Q1330.5781,541.2813 1330.7813,541.2813 Q1331.1094,541.2813 1331.3672,541.5391 Q1331.625,541.7969 1331.625,542.1406 Q1331.625,542.4844 1331.2813,542.8906 Q1330.7813,543.4688 1329.9844,543.7969 Q1328.9063,544.25 1327.6094,544.25 Q1326.0938,544.25 1324.8906,543.625 Q1323.9063,543.125 1323.2188,542.0547 Q1322.5313,540.9844 1322.5313,539.7031 L1322.5313,538.5469 Q1322.5313,537.2188 1323.1484,536.0703 Q1323.7656,534.9219 1324.8594,534.3047 Q1325.9531,533.6875 1327.1875,533.6875 Q1327.9219,533.6875 1328.5703,533.8516 Q1329.2188,534.0156 1329.7656,534.375 Z "/><ellipse cx="1346" cy="538" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="59" x="1352" y="543.4102">static final</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="59" x="1414" y="543.4102">AtrSelector</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1313" x2="1475" y1="554.5" y2="554.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="1313" x2="1475" y1="562.5" y2="562.5"/><ellipse cx="1323" cy="574.918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="1332" y="577.9189">AtrSelector(String atrRegex)</text><!--class SeProtocol--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="61.8359" id="SeProtocol" style="stroke: #A80036; stroke-width: 1.5;" width="107" x="874.5" y="522.5"/><ellipse cx="891.3" cy="538.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M892.2531,535.1406 L892.2531,541.7969 L893.9719,541.7969 Q894.5813,541.7969 894.8469,542.0313 Q895.1125,542.2656 895.1125,542.6563 Q895.1125,543.0313 894.8469,543.2656 Q894.5813,543.5 893.9719,543.5 L888.8313,543.5 Q888.2219,543.5 887.9563,543.2656 Q887.6906,543.0313 887.6906,542.6406 Q887.6906,542.2656 887.9563,542.0313 Q888.2219,541.7969 888.8313,541.7969 L890.55,541.7969 L890.55,535.1406 L888.8313,535.1406 Q888.2219,535.1406 887.9563,534.9063 Q887.6906,534.6719 887.6906,534.2813 Q887.6906,533.9063 887.9563,533.6719 Q888.2219,533.4375 888.8313,533.4375 L893.9719,533.4375 Q894.5813,533.4375 894.8469,533.6719 Q895.1125,533.9063 895.1125,534.2813 Q895.1125,534.6719 894.8469,534.9063 Q894.5813,535.1406 893.9719,535.1406 L892.2531,535.1406 Z "/><ellipse cx="910.7" cy="538" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="60" x="916.7" y="543.4102">SeProtocol</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="875.5" x2="980.5" y1="554.5" y2="554.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="875.5" x2="980.5" y1="562.5" y2="562.5"/><ellipse cx="885.5" cy="574.918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="81" x="894.5" y="577.9189">String getName()</text><!--class AbstractApduBuffer--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="89.5078" id="AbstractApduBuffer" style="stroke: #A80036; stroke-width: 1.5;" width="216" x="1260" y="746.5"/><ellipse cx="1310.75" cy="762.5" fill="#A9DCDF" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1312.9375,764.2656 L1308.7969,764.2656 L1308.375,765.2969 L1308.7969,765.2969 Q1309.4063,765.2969 1309.6719,765.5313 Q1309.9375,765.7656 1309.9375,766.1563 Q1309.9375,766.5313 1309.6719,766.7656 Q1309.4063,767 1308.7969,767 L1306.5,767 Q1305.8906,767 1305.6328,766.7656 Q1305.375,766.5313 1305.375,766.1406 Q1305.375,765.7656 1305.6484,765.5234 Q1305.9219,765.2813 1306.5469,765.2969 L1309.2188,758.6406 L1308.1094,758.6406 Q1307.5,758.6406 1307.2344,758.4063 Q1306.9688,758.1719 1306.9688,757.7813 Q1306.9688,757.4063 1307.2344,757.1719 Q1307.5,756.9375 1308.1094,756.9375 L1311.7813,756.9375 L1315.1719,765.2969 Q1315.7656,765.2969 1315.9531,765.4375 Q1316.3438,765.7031 1316.3438,766.1563 Q1316.3438,766.5313 1316.0859,766.7656 Q1315.8281,767 1315.2188,767 L1312.9219,767 Q1312.3125,767 1312.0469,766.7656 Q1311.7813,766.5313 1311.7813,766.1406 Q1311.7813,765.7656 1312.0469,765.5313 Q1312.3125,765.2969 1312.9219,765.2969 L1313.3438,765.2969 L1312.9375,764.2656 Z M1312.2188,762.5625 L1310.8594,759.1875 L1309.4844,762.5625 L1312.2188,762.5625 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="106" x="1331.25" y="767.4102">AbstractApduBuffer</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1261" x2="1475" y1="778.5" y2="778.5"/><rect fill="none" height="6" style="stroke: #C82930; stroke-width: 1.0;" width="6" x="1268" y="787.918"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="1280" y="793.9189">final</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="83" x="1306" y="793.9189">ByteBuffer bytes</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1261" x2="1475" y1="800.3359" y2="800.3359"/><ellipse cx="1271" cy="812.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="107" x="1280" y="815.7549">AbstractApduBuffer()</text><ellipse cx="1271" cy="826.5898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="190" x="1280" y="829.5908">ByteBuffer getBytes(ByteBuffer bytes)</text><path d="M371,680 L371,902.5703 A0,0 0 0 0 371,902.5703 L667,902.5703 A0,0 0 0 0 667,902.5703 L667,690 L657,680 L476.13,680 L437.692,598.61 L468.13,680 L371,680 A0,0 0 0 0 371,680 " fill="#FBFB77" filter="url(#fg8b39ntxz4fm)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M657,680 L657,690 L667,690 L657,680 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="377" y="698.4951">- To operate the transmission of SeRequestSet,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="55" x="377" y="714.8467">a specific</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="436" y="714.8467">local</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="100" x="471" y="714.8467">reader processes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="165" x="377" y="731.1982">the sorted list of SeRequest.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="249" x="377" y="747.5498">- According to SeRequest protocolFlag and</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="218" x="377" y="763.9014">to the current status of the reader (RF</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="377" y="780.2529">protocol involved / current ATR) the</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="257" x="377" y="796.6045">processing of a specific SeRequest could be</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="49" x="377" y="812.9561">skipped.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="188" x="377" y="829.3076">- When processing a SeRequest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="385" y="845.6592">o if necessary a new logical channel is</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="193" x="385" y="862.0107">open (for a specific AID if defined)</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="244" x="385" y="878.3623">o and ApduRequest are transmited one by</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="21" x="385" y="894.7139">one</text><path d="M128,104.5 L128,179.9063 A0,0 0 0 0 128,179.9063 L355,179.9063 L359,285.34 L363,179.9063 L590,179.9063 A0,0 0 0 0 590,179.9063 L590,114.5 L580,104.5 L128,104.5 A0,0 0 0 0 128,104.5 " fill="#FBFB77" filter="url(#fg8b39ntxz4fm)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M580,104.5 L580,114.5 L590,114.5 L580,104.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="441" x="134" y="122.9951">- A SeRequestSet could contain several SeRequest to manage the selection</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="202" x="134" y="139.3467">of different types of PO application.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="418" x="134" y="155.6982">- To exchange APDU commands with a soecific selected PO application</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="195" x="134" y="172.0498">a single SeRequest is necessary.</text><path d="M752.5,104.5 L752.5,179.9063 A0,0 0 0 0 752.5,179.9063 L969,179.9063 L973,257.15 L977,179.9063 L1193.5,179.9063 A0,0 0 0 0 1193.5,179.9063 L1193.5,114.5 L1183.5,104.5 L752.5,104.5 A0,0 0 0 0 752.5,104.5 " fill="#FBFB77" filter="url(#fg8b39ntxz4fm)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1183.5,104.5 L1183.5,114.5 L1193.5,114.5 L1183.5,104.5 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="405" x="758.5" y="122.9951">- For PO requiring an AID selection, the aidToSelect should be defined</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="420" x="758.5" y="139.3467">with non null value. For PO not supporting AID selection, the aidToSelect</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="147" x="758.5" y="155.6982">should be defined as null.</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="758.5" y="172.0498">- The protocolFlag parameter is optional.</text><!--class ContactlessProtocols--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="186.3594" id="ContactlessProtocols" style="stroke: #A80036; stroke-width: 1.5;" width="161" x="884.5" y="698.5"/><ellipse cx="899.5" cy="714.5" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M898.3594,715.2969 L898.3594,717.7969 L902.6875,717.7969 L902.6875,716.875 Q902.6875,716.2656 902.9297,716 Q903.1719,715.7344 903.5469,715.7344 Q903.9219,715.7344 904.1563,716 Q904.3906,716.2656 904.3906,716.875 L904.3906,719.5 L896.3906,719.5 Q895.7656,719.5 895.5078,719.2656 Q895.25,719.0313 895.25,718.6406 Q895.25,718.2656 895.5156,718.0313 Q895.7813,717.7969 896.3906,717.7969 L896.6563,717.7969 L896.6563,711.1406 L896.3906,711.1406 Q895.7656,711.1406 895.5078,710.9063 Q895.25,710.6719 895.25,710.2813 Q895.25,709.9063 895.5078,709.6719 Q895.7656,709.4375 896.3906,709.4375 L904.0156,709.4375 L904.0156,712.0313 Q904.0156,712.6406 903.7891,712.8984 Q903.5625,713.1563 903.1719,713.1563 Q902.7969,713.1563 902.5625,712.8984 Q902.3281,712.6406 902.3281,712.0313 L902.3281,711.1406 L898.3594,711.1406 L898.3594,713.5938 L899.8438,713.5938 Q899.8438,712.9375 899.9688,712.75 Q900.2344,712.3438 900.7031,712.3438 Q901.0781,712.3438 901.3125,712.6016 Q901.5469,712.8594 901.5469,713.4688 L901.5469,715.4375 Q901.5469,715.9844 901.4219,716.1719 Q901.1563,716.5625 900.7031,716.5625 Q900.2344,716.5625 899.9688,716.1563 Q899.8438,715.9688 899.8438,715.2969 L898.3594,715.2969 Z "/><ellipse cx="918.5" cy="714" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="118" x="924.5" y="719.4102">ContactlessProtocols</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="885.5" x2="1044.5" y1="730.5" y2="730.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="121" x="890.5" y="763.7549">PROTOCOL_ISO14443_4</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="885.5" x2="943.5" y1="745.418" y2="745.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="943.5" y="749.4189">standard</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="986.5" x2="1044.5" y1="745.418" y2="745.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="129" x="890.5" y="795.4268">PROTOCOL_ISO14443_3A</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="128" x="890.5" y="809.2627">PROTOCOL_ISO14443_3B</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="104" x="890.5" y="823.0986">PROTOCOL_B_PRIME</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="118" x="890.5" y="836.9346">PROTOCOL_MIFARE_UL</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="149" x="890.5" y="850.7705">PROTOCOL_MIFARE_CLASSIC</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="146" x="890.5" y="864.6064">PROTOCOL_MIFARE_DESFIRE</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="138" x="890.5" y="878.4424">PROTOCOL_MEMORY_ST25</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="885.5" x2="938.5" y1="777.0898" y2="777.0898"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="53" x="938.5" y="781.0908">proprietary</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="991.5" x2="1044.5" y1="777.0898" y2="777.0898"/><!--class ContactsProtocols--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="71.6719" id="ContactsProtocols" style="stroke: #A80036; stroke-width: 1.5;" width="144" x="1081" y="755.5"/><ellipse cx="1096" cy="771.5" fill="#EB937F" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1094.8594,772.2969 L1094.8594,774.7969 L1099.1875,774.7969 L1099.1875,773.875 Q1099.1875,773.2656 1099.4297,773 Q1099.6719,772.7344 1100.0469,772.7344 Q1100.4219,772.7344 1100.6563,773 Q1100.8906,773.2656 1100.8906,773.875 L1100.8906,776.5 L1092.8906,776.5 Q1092.2656,776.5 1092.0078,776.2656 Q1091.75,776.0313 1091.75,775.6406 Q1091.75,775.2656 1092.0156,775.0313 Q1092.2813,774.7969 1092.8906,774.7969 L1093.1563,774.7969 L1093.1563,768.1406 L1092.8906,768.1406 Q1092.2656,768.1406 1092.0078,767.9063 Q1091.75,767.6719 1091.75,767.2813 Q1091.75,766.9063 1092.0078,766.6719 Q1092.2656,766.4375 1092.8906,766.4375 L1100.5156,766.4375 L1100.5156,769.0313 Q1100.5156,769.6406 1100.2891,769.8984 Q1100.0625,770.1563 1099.6719,770.1563 Q1099.2969,770.1563 1099.0625,769.8984 Q1098.8281,769.6406 1098.8281,769.0313 L1098.8281,768.1406 L1094.8594,768.1406 L1094.8594,770.5938 L1096.3438,770.5938 Q1096.3438,769.9375 1096.4688,769.75 Q1096.7344,769.3438 1097.2031,769.3438 Q1097.5781,769.3438 1097.8125,769.6016 Q1098.0469,769.8594 1098.0469,770.4688 L1098.0469,772.4375 Q1098.0469,772.9844 1097.9219,773.1719 Q1097.6563,773.5625 1097.2031,773.5625 Q1096.7344,773.5625 1096.4688,773.1563 Q1096.3438,772.9688 1096.3438,772.2969 L1094.8594,772.2969 Z "/><ellipse cx="1115" cy="771" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="101" x="1121" y="776.4102">ContactsProtocols</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="1082" x2="1224" y1="787.5" y2="787.5"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="115" x="1087" y="820.7549">PROTOCOL_ISO7816_3</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1082" x2="1131.5" y1="802.418" y2="802.418"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="43" x="1131.5" y="806.4189">standard</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 1.0,2.0;" x1="1174.5" x2="1224" y1="802.418" y2="802.418"/><!--class SeProtocolSettings--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="75.6719" id="SeProtocolSettings" style="stroke: #A80036; stroke-width: 1.5;" width="147" x="702.5" y="753.5"/><ellipse cx="717.5" cy="769.5" fill="#B4A7E5" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M718.4531,766.1406 L718.4531,772.7969 L720.1719,772.7969 Q720.7813,772.7969 721.0469,773.0313 Q721.3125,773.2656 721.3125,773.6563 Q721.3125,774.0313 721.0469,774.2656 Q720.7813,774.5 720.1719,774.5 L715.0313,774.5 Q714.4219,774.5 714.1563,774.2656 Q713.8906,774.0313 713.8906,773.6406 Q713.8906,773.2656 714.1563,773.0313 Q714.4219,772.7969 715.0313,772.7969 L716.75,772.7969 L716.75,766.1406 L715.0313,766.1406 Q714.4219,766.1406 714.1563,765.9063 Q713.8906,765.6719 713.8906,765.2813 Q713.8906,764.9063 714.1563,764.6719 Q714.4219,764.4375 715.0313,764.4375 L720.1719,764.4375 Q720.7813,764.4375 721.0469,764.6719 Q721.3125,764.9063 721.3125,765.2813 Q721.3125,765.6719 721.0469,765.9063 Q720.7813,766.1406 720.1719,766.1406 L718.4531,766.1406 Z "/><ellipse cx="736.5" cy="769" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="12" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="104" x="742.5" y="774.4102">SeProtocolSettings</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="703.5" x2="848.5" y1="785.5" y2="785.5"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="703.5" x2="848.5" y1="793.5" y2="793.5"/><ellipse cx="713.5" cy="805.918" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="101" x="722.5" y="808.9189">SeProtocol getFlag();</text><ellipse cx="713.5" cy="819.7539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="85" x="722.5" y="822.7549">String getValue();</text><!--class ByteBufferUtils--><rect fill="#FEFECE" filter="url(#fg8b39ntxz4fm)" height="172.5234" id="ByteBufferUtils" style="stroke: #A80036; stroke-width: 1.5;" width="296" x="359" y="1407"/><ellipse cx="462.75" cy="1423" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M465.5156,1418.875 Q465.6719,1418.6563 465.8594,1418.5469 Q466.0469,1418.4375 466.2656,1418.4375 Q466.6406,1418.4375 466.875,1418.6953 Q467.1094,1418.9531 467.1094,1419.5625 L467.1094,1421.0156 Q467.1094,1421.625 466.875,1421.8906 Q466.6406,1422.1563 466.2656,1422.1563 Q465.9219,1422.1563 465.7188,1421.9531 Q465.5156,1421.7656 465.4063,1421.25 Q465.3594,1420.8906 465.1719,1420.7031 Q464.8438,1420.3281 464.2344,1420.1094 Q463.625,1419.8906 463,1419.8906 Q462.2344,1419.8906 461.6016,1420.2188 Q460.9688,1420.5469 460.4766,1421.2969 Q459.9844,1422.0469 459.9844,1423.0781 L459.9844,1424.1719 Q459.9844,1425.4063 460.875,1426.2266 Q461.7656,1427.0469 463.3594,1427.0469 Q464.2969,1427.0469 464.9531,1426.7969 Q465.3438,1426.6406 465.7656,1426.2031 Q466.0313,1425.9375 466.1797,1425.8594 Q466.3281,1425.7813 466.5313,1425.7813 Q466.8594,1425.7813 467.1172,1426.0391 Q467.375,1426.2969 467.375,1426.6406 Q467.375,1426.9844 467.0313,1427.3906 Q466.5313,1427.9688 465.7344,1428.2969 Q464.6563,1428.75 463.3594,1428.75 Q461.8438,1428.75 460.6406,1428.125 Q459.6563,1427.625 458.9688,1426.5547 Q458.2813,1425.4844 458.2813,1424.2031 L458.2813,1423.0469 Q458.2813,1421.7188 458.8984,1420.5703 Q459.5156,1419.4219 460.6094,1418.8047 Q461.7031,1418.1875 462.9375,1418.1875 Q463.6719,1418.1875 464.3203,1418.3516 Q464.9688,1418.5156 465.5156,1418.875 Z "/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="80" x="483.25" y="1427.9102">ByteBufferUtils</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="360" x2="654" y1="1439" y2="1439"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="360" x2="654" y1="1447" y2="1447"/><ellipse cx="370" cy="1459.418" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="154" x="379" y="1462.4189">ByteBuffer fromHex(String hex)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="379" x2="533" y1="1464.4189" y2="1464.4189"/><ellipse cx="370" cy="1473.2539" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="153" x="379" y="1476.2549">String toHex(ByteBuffer buffer)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="379" x2="532" y1="1478.2549" y2="1478.2549"/><ellipse cx="370" cy="1487.0898" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="188" x="379" y="1490.0908">String toHex(List&lt;ByteBuffer&gt; buffers)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="379" x2="567" y1="1492.0908" y2="1492.0908"/><ellipse cx="370" cy="1500.9258" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="168" x="379" y="1503.9268">String toHex(ByteBuffer... buffers)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="379" x2="547" y1="1505.9268" y2="1505.9268"/><ellipse cx="370" cy="1514.7617" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="264" x="379" y="1517.7627">String toHexCutLen(ByteBuffer buffer, int... cutLength)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="379" x2="643" y1="1519.7627" y2="1519.7627"/><ellipse cx="370" cy="1528.5977" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="161" x="379" y="1531.5986">byte[] toBytes(ByteBuffer buffer)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="379" x2="540" y1="1533.5986" y2="1533.5986"/><ellipse cx="370" cy="1542.4336" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="260" x="379" y="1545.4346">ByteBuffer subIndex(ByteBuffer buf, int start, int end)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="379" x2="639" y1="1547.4346" y2="1547.4346"/><ellipse cx="370" cy="1556.2695" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="270" x="379" y="1559.2705">ByteBuffer subLen(ByteBuffer buf, int offset, int length)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="379" x2="649" y1="1561.2705" y2="1561.2705"/><ellipse cx="370" cy="1570.1055" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="259" x="379" y="1573.1064">ByteBuffer concat(ByteBuffer buf1, ByteBuffer buf2)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="379" x2="638" y1="1575.1064" y2="1575.1064"/><!--entity ##56--><!--link SeRequestSet to ProxyReader--><path d="M375.634,402.52 C385.31,435.99 397.318,477.51 406.243,508.38 " fill="none" id="SeRequestSet-ProxyReader" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#000000" points="411,471.5,414,465.5,417,471.5,411,471.5" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="398" y="487.9951">sends</text><!--link ProxyReader to SeResponseSet--><path d="M377.878,598.61 C342.557,636.502 291.384,691.397 252.811,732.775 " fill="none" id="ProxyReader-SeResponseSet" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="47" x="349" y="642.9951">receives</text><polygon fill="#000000" points="368,651.8516,371,657.8516,374,651.8516,368,651.8516" style="stroke: #000000; stroke-width: 1.0;"/><!--link SeRequestSet to SeRequest--><path d="M518.445,344 C554.673,344 594.497,344 635.049,344 " fill="none" id="SeRequestSet-SeRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="648.237,344,639.237,340,643.237,344,639.237,348,648.237,344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="643.237" x2="635.2375" y1="344" y2="344"/><polygon fill="#FFFFFF" points="505.288,344,511.288,348,517.288,344,511.288,340,505.288,344" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="107" x="523.25" y="337.4951">sortedSeRequests</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="512.9066" y="357.8868">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="632.5316" y="341.3173">+</text><!--link SeRequest to ApduRequest--><path d="M1053.22,440.66 C1069.77,460.4 1086.65,480.53 1101.44,498.17 " fill="none" id="SeRequest-ApduRequest" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="1109.89,508.24,1107.1759,498.7725,1106.6788,504.4075,1101.0438,503.9104,1109.89,508.24" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1106.6788" x2="1101.535" y1="504.4075" y2="498.28"/><polygon fill="#FFFFFF" points="1044.78,430.6,1045.5684,437.7679,1052.4881,439.797,1051.6997,432.6291,1044.78,430.6" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="83" x="1081" y="474.9951">apduRequests</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="1027.6234" y="451.6666">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="1098.8247" y="497.6443">*</text><!--link ApduRequest to AbstractApduBuffer--><path d="M1188.68,598.78 C1205.01,616.14 1223.89,636.243 1241,654.5 C1264.67,679.76 1290.77,707.7 1313.12,731.651 " fill="none" id="ApduRequest-AbstractApduBuffer" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1318.33,726.968,1326.86,746.366,1308.09,736.519,1318.33,726.968" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1234" y="642.9951">extends</text><!--link AbstractApduBuffer to ApduResponse--><path d="M1314.35,850.753 C1293.1,871.216 1267.43,892.955 1241,908.5 C1179.08,944.915 1104.2,971.851 1039.78,990.596 " fill="none" id="AbstractApduBuffer-ApduResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1309.54,845.668,1328.66,836.535,1319.41,855.599,1309.54,845.668" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1188" y="947.4951">extends</text><!--link ApduResponse to SeResponse--><path d="M799.527,1077.248 C762.864,1096.957 719.604,1120.211 677.759,1142.706 " fill="none" id="ApduResponse-SeResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#FFFFFF" points="666.291,1148.871,673.4697,1149.5537,676.8609,1143.1897,669.6822,1142.5071,666.291,1148.871" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="811.139,1071.005,801.3178,1071.7426,806.7349,1073.3722,805.1053,1078.7892,811.139,1071.005" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="806.7349" x2="799.689" y1="1073.3722" y2="1077.1605"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="746" y="1115.4951">apduResponses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="5" x="794.2757" y="1092.0133">*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="657.0348" y="1138.2695">0..1</text><!--link SeResponseSet to SeResponse--><path d="M246.978,861.352 C298.697,935.571 381.416,1054.279 439.641,1137.836 " fill="none" id="SeResponseSet-SeResponse" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="#A80036" points="447.152,1148.614,445.288,1138.9431,444.2932,1144.5119,438.7245,1143.5171,447.152,1148.614" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="444.2932" x2="439.72" y1="1144.5119" y2="1137.9485"/><polygon fill="#FFFFFF" points="239.266,850.284,239.4148,857.4936,246.127,860.1291,245.9782,852.9196,239.266,850.284" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="79" x="390" y="1031.4951">seResponses</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="22" x="220.6499" y="871.511">0..1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="8" x="433.8646" y="1138.2857">+</text><!--link SeRequest to Selector--><path d="M1312.92,344 C1319.4,344 1325.89,344 1332.37,344 " fill="none" id="SeRequest-Selector" style="stroke: #A80036; stroke-width: 1.0;"/><ellipse cx="1305.79" cy="344" fill="#FFFFFF" rx="8" ry="8" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1313.79" x2="1297.79" y1="344" y2="344"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1305.79" x2="1305.79" y1="352" y2="336"/><!--link AidSelector to Selector--><path d="M1377.89,173.38 C1381.09,207.07 1386.28,261.7 1389.9,299.83 " fill="none" id="AidSelector-Selector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1396.88,299.27,1391.8,319.84,1382.94,300.59,1396.88,299.27" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1383" y="223.9951">extends</text><!--link Selector to AtrSelector--><path d="M1394,388.5 C1394,428.55 1394,486.92 1394,522.15 " fill="none" id="Selector-AtrSelector" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="1387,388.4,1394,368.4,1401,388.4,1387,388.4" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1395" y="474.9951">extends</text><!--link SeProtocol to ContactlessProtocols--><path d="M935.91,604.95 C940.176,632.16 945.575,666.6 950.56,698.396 " fill="none" id="SeProtocol-ContactlessProtocols" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="928.944,605.71,932.761,584.87,942.775,603.54,928.944,605.71" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="943" y="642.9951">extends</text><!--link SeProtocol to ContactsProtocols--><path d="M993.424,595.99 C1016.84,612.58 1042.49,632.87 1063,654.5 C1092.13,685.212 1117.93,726.435 1134.35,755.418 " fill="none" id="SeProtocol-ContactsProtocols" style="stroke: #A80036; stroke-width: 1.0;"/><polygon fill="none" points="989.385,601.71,976.873,584.61,997.319,590.18,989.385,601.71" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="46" x="1054" y="642.9951">extends</text><!--link ContactlessProtocols to ContactsProtocols--><!--link SeRequest to SeProtocol--><path d="M954.437,430.6 C947.368,463.19 939.763,498.26 934.533,522.38 " fill="none" id="SeRequest-SeProtocol" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="948" y="474.9951">SE Protocol Flag</text><!--link ProxyReader to SeProtocol--><path d="M597.023,553.5 C694.639,553.5 808.801,553.5 874.329,553.5 " fill="none" id="ProxyReader-SeProtocol" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="122" x="674.75" y="546.9951">SE Protocol Settings</text><!--link SeProtocol to ApduRequest--><!--link SeResponse to ByteBufferUtils--><!--
@startuml

package org.eclipse.keyple #FFFFFF {

package seproxy #FFFFFF {

+interface ReadersPlugin {
  +SortedSet<? extends ProxyReader> getReaders()
}

+interface ProxyReader {
  +boolean isSePresent()
  +void addSeProtocolSetting(SeProtocolSetting seProtocolSetting);
  +SeResponseSet transmit(<b>final</b> SeRequestSet seApplicationRequest)
}
hide ReadersPlugin
+class "<b>final</b> SeRequestSet" as SeRequestSet {
  -<b>final</b> LinkedHashSet<SeRequest> orderedSetRequests
  +SeRequestSet(Set<SeRequest> seRequests)
  +SeRequestSet(SeRequest seRequest)
  +Set<SeRequest> getRequests()
  +SeRequest getSingleRequest()
}

+class "<b>final</b> SeResponseSet" as SeResponseSet {
  -<b>final</b> ArrayList<SeResponse> seResponses
  +SeResponseSet(List<SeResponse> seResponses)
  +SeResponseSet(SeResponse seResponse)
  +List<SeResponse> getResponses()
  +SeResponse getSingleResponse()
}
+class "<b>final</b> ApduRequest" as ApduRequest {
  -boolean case4
  +ApduRequest(ByteBuffer bytes, boolean case4)
  +boolean isCase4()
}

+class "<b>final</b> ApduResponse" as ApduResponse {
  -boolean successful
  +ApduResponse(ByteBuffer bytes, boolean successful)
  +boolean isSuccessful()
}
+class "<b>final</b> SeRequest" as SeRequest {
  -Selector[0..1] selector
  -ArrayList<ApduRequest> apduRequests
  -SeProtocol[0..1] protocolFlag
  -boolean keepChannelOpen
  +SeRequest(Selector[0..1] selector, List<ApduRequest> apduRequests,  boolean keepChannelOpen, SeProtocol[0..1] protocolFlag)
  +Selector getSelector()
  +List<ApduRequest> getApduRequests()
  +boolean isKeepChannelOpen()
  +SeProtocol getProtocolFlag()
}

+class "<b>final</b> SeResponse" as SeResponse {
  -boolean channelPreviouslyOpen
  -ApduResponse[0..1] atr
  -ApduResponse[0..1] fci
  -ArrayList<ApduResponse> apduResponses
  +SeResponse(boolean channelPreviouslyOpen, ApduResponse[0..1] atr, ApduResponse[0..1] fci, List<ApduResponse> apduResponses)  
  +boolean wasChannelPreviouslyOpen()
  +ApduResponse getAtr()
  +ApduResponse getFci()
  +List<ApduResponse> getApduResponses()
}

+abstract "<b>static</b> Selector" as Selector {
}
+class "<b>static final</b> AidSelector" as AidSelector {
  +AidSelector(ByteBuffer aidToSelect)
}
+class "<b>static final</b> AtrSelector" as AtrSelector {
  +AtrSelector(String atrRegex)
}

+interface SeProtocol {
	+String getName()
}

package protocol #FFFFFF {

+enum ContactlessProtocols {
	.. standard ..
	PROTOCOL_ISO14443_4
	.. proprietary ..
	PROTOCOL_ISO14443_3A
	PROTOCOL_ISO14443_3B
	PROTOCOL_B_PRIME
	PROTOCOL_MIFARE_UL
	PROTOCOL_MIFARE_CLASSIC
	PROTOCOL_MIFARE_DESFIRE
	PROTOCOL_MEMORY_ST25
}

+enum ContactsProtocols {
	.. standard ..
	PROTOCOL_ISO7816_3
}

+interface SeProtocolSettings {
  +SeProtocol getFlag();
  +String getValue();
}
}

abstract AbstractApduBuffer {
  -<b>final</b> ByteBuffer bytes
  +AbstractApduBuffer()
  +ByteBuffer getBytes(ByteBuffer bytes)
}


note bottom of ProxyReader
  - To operate the transmission of SeRequestSet,
  a specific <b>local</b> reader processes
  the sorted list of SeRequest.
  - According to SeRequest protocolFlag and
  to the current status of the reader (RF
  protocol involved / current ATR) the
  processing of a specific SeRequest could be
  skipped.
  - When processing a SeRequest
    o if necessary a new logical channel is
    open (for a specific AID if defined)
    o and ApduRequest are transmited one by
    one
end note

note top of SeRequestSet
 - A SeRequestSet could contain several SeRequest to manage the selection
 of different types of PO application.
 - To exchange APDU commands with a soecific selected PO application
 a single SeRequest is necessary.
end note

note top of SeRequest
 - For PO requiring an AID selection, the aidToSelect should be defined
 with non null value. For PO not supporting AID selection, the aidToSelect
 should be defined as null.
 - The protocolFlag parameter is optional.
end note
}

package util #FFFFFF {
  class ByteBufferUtils {
    +{static}ByteBuffer fromHex(String hex)
    +{static}String toHex(ByteBuffer buffer)
    +{static}String toHex(List<ByteBuffer> buffers)
    +{static}String toHex(ByteBuffer... buffers)
    +{static}String toHexCutLen(ByteBuffer buffer, int... cutLength)
    +{static}byte[] toBytes(ByteBuffer buffer)
    +{static}ByteBuffer subIndex(ByteBuffer buf, int start, int end)
    +{static}ByteBuffer subLen(ByteBuffer buf, int offset, int length)
    +{static}ByteBuffer concat(ByteBuffer buf1, ByteBuffer buf2)
    
  }
}
}

together {
  interface SeProtocol
  enum ContactlessProtocols
  enum ContactsProtocols
  interface ProxyReader
  abstract AbstractApduBuffer
  class ApduRequest
  class ApduResponse
  class SeRequest
  class SeRequestSet
  class SeResponse
  class SeResponseSet
}





ProxyReader -up- SeRequestSet : sends >
ProxyReader -down- SeResponseSet : receives >

SeRequestSet "0..1" o-right-> "+" SeRequest : sortedSeRequests
SeRequest "0..1" o-down-> "*" ApduRequest : apduRequests

ApduRequest -down-|> AbstractApduBuffer : extends
ApduResponse -up-|> AbstractApduBuffer : extends

SeResponse "0..1" o-up-> "*" ApduResponse : apduResponses
SeResponseSet "0..1" o-right-> "+" SeResponse : seResponses

SeRequest +-right- Selector
Selector <|-up- AidSelector : extends
Selector <|-down- AtrSelector : extends

SeProtocol <|- - ContactlessProtocols : extends
SeProtocol <|- - ContactsProtocols : extends
ContactsProtocols -left[hidden]- ContactlessProtocols

SeRequest - - SeProtocol : SE Protocol Flag
ProxyReader -right- SeProtocol : SE Protocol Settings
SeProtocol -right[hidden]- ApduRequest
SeResponse -down[hidden]- ByteBufferUtils

@enduml

PlantUML version 1.2018.01(Sun Jan 28 22:08:22 MUT 2018)
(APACHE source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 10.0.1+10
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: fr
Country: FR
--></g></svg>