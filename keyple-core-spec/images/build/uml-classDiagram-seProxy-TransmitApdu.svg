<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="3364.5833px" preserveAspectRatio="none" style="width:3204px;height:3364px;" version="1.1" viewBox="0 0 3204 3364" width="3204.1667px" zoomAndPan="magnify"><defs><filter height="300%" id="fvswy0b97lg4t" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="4.166666666666667"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="8.333333333333334" dy="8.333333333333334" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--cluster org.eclipse.keyple--><polygon fill="#FFFFFF" filter="url(#fvswy0b97lg4t)" points="45.8333,51.0417,327.0833,51.0417,341.6667,100.2279,3158.3333,100.2279,3158.3333,3339.5833,45.8333,3339.5833,45.8333,51.0417" style="stroke: #000000; stroke-width: 3.125;"/><line style="stroke: #000000; stroke-width: 3.125;" x1="45.8333" x2="341.6667" y1="100.2279" y2="100.2279"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="268.75" x="54.1667" y="85.4858">org.eclipse.keyple</text><!--cluster seproxy--><polygon fill="#FFFFFF" filter="url(#fvswy0b97lg4t)" points="95.8333,142.7083,225,142.7083,239.5833,191.8945,3108.3333,191.8945,3108.3333,2752.0833,95.8333,2752.0833,95.8333,142.7083" style="stroke: #000000; stroke-width: 3.125;"/><line style="stroke: #000000; stroke-width: 3.125;" x1="95.8333" x2="239.5833" y1="191.8945" y2="191.8945"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="116.6667" x="104.1667" y="177.1525">seproxy</text><!--cluster protocol--><polygon fill="#FFFFFF" filter="url(#fvswy0b97lg4t)" points="1429.1667,1344.7917,1564.5833,1344.7917,1579.1667,1393.9779,2585.4167,1393.9779,2585.4167,1840.625,1429.1667,1840.625,1429.1667,1344.7917" style="stroke: #000000; stroke-width: 3.125;"/><line style="stroke: #000000; stroke-width: 3.125;" x1="1429.1667" x2="1579.1667" y1="1393.9779" y2="1393.9779"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="122.9167" x="1437.5" y="1379.2358">protocol</text><!--cluster util--><polygon fill="#FFFFFF" filter="url(#fvswy0b97lg4t)" points="714.5833,2820.8333,772.9167,2820.8333,787.5,2870.0195,1397.9167,2870.0195,1397.9167,3289.5833,714.5833,3289.5833,714.5833,2820.8333" style="stroke: #000000; stroke-width: 3.125;"/><line style="stroke: #000000; stroke-width: 3.125;" x1="714.5833" x2="787.5" y1="2870.0195" y2="2870.0195"/><text fill="#000000" font-family="sans-serif" font-size="29.1667" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="45.8333" x="722.9167" y="2855.2775">util</text><!--class ReadersPlugin--><!--class ProxyReader--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="186.4746" id="ProxyReader" style="stroke: #A80036; stroke-width: 3.125;" width="741.6667" x="608.3333" y="1023.9583"/><ellipse cx="883.8542" cy="1057.2917" fill="#B4A7E5" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M885.8398,1050.293 L885.8398,1064.1602 L889.4206,1064.1602 Q890.6901,1064.1602 891.2435,1064.6484 Q891.7969,1065.1367 891.7969,1065.9505 Q891.7969,1066.7318 891.2435,1067.2201 Q890.6901,1067.7083 889.4206,1067.7083 L878.7109,1067.7083 Q877.4414,1067.7083 876.888,1067.2201 Q876.3346,1066.7318 876.3346,1065.918 Q876.3346,1065.1367 876.888,1064.6484 Q877.4414,1064.1602 878.7109,1064.1602 L882.2917,1064.1602 L882.2917,1050.293 L878.7109,1050.293 Q877.4414,1050.293 876.888,1049.8047 Q876.3346,1049.3164 876.3346,1048.5026 Q876.3346,1047.7214 876.888,1047.2331 Q877.4414,1046.7448 878.7109,1046.7448 L889.4206,1046.7448 Q890.6901,1046.7448 891.2435,1047.2331 Q891.7969,1047.7214 891.7969,1048.5026 Q891.7969,1049.3164 891.2435,1049.8047 Q890.6901,1050.293 889.4206,1050.293 L885.8398,1050.293 Z "/><ellipse cx="936.9792" cy="1056.25" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="150" x="949.4792" y="1067.5212">ProxyReader</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="610.4167" x2="1347.9167" y1="1090.625" y2="1090.625"/><line style="stroke: #A80036; stroke-width: 3.125;" x1="610.4167" x2="1347.9167" y1="1107.2917" y2="1107.2917"/><ellipse cx="631.25" cy="1133.1624" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="222.9167" x="650" y="1139.4145">boolean isSePresent()</text><ellipse cx="631.25" cy="1161.9873" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="643.75" x="650" y="1168.2393">void addSeProtocolSetting(SeProtocolSetting seProtocolSetting);</text><ellipse cx="631.25" cy="1190.8122" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="256.25" x="650" y="1197.0642">SeResponseSet transmit(</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47.9167" x="906.25" y="1197.0642">final</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="377.0833" x="960.4167" y="1197.0642">SeRequestSet seApplicationRequest)</text><!--class SeRequestSet--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="244.1243" id="SeRequestSet" style="stroke: #A80036; stroke-width: 3.125;" width="608.3333" x="531.25" y="559.375"/><ellipse cx="703.6458" cy="592.7083" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M709.4076,584.1146 Q709.7331,583.6589 710.1237,583.431 Q710.5143,583.2031 710.9701,583.2031 Q711.7513,583.2031 712.2396,583.7402 Q712.7279,584.2773 712.7279,585.5469 L712.7279,588.5742 Q712.7279,589.8438 712.2396,590.3971 Q711.7513,590.9505 710.9701,590.9505 Q710.2539,590.9505 709.8307,590.5273 Q709.4076,590.1367 709.1797,589.0625 Q709.082,588.3138 708.6914,587.9232 Q708.0078,587.1419 706.7383,586.6862 Q705.4688,586.2305 704.1667,586.2305 Q702.5716,586.2305 701.2533,586.9141 Q699.9349,587.5977 698.9095,589.1602 Q697.8841,590.7227 697.8841,592.8711 L697.8841,595.1497 Q697.8841,597.7214 699.7396,599.4303 Q701.5951,601.1393 704.9154,601.1393 Q706.8685,601.1393 708.2357,600.6185 Q709.0495,600.293 709.9284,599.3815 Q710.4818,598.8281 710.791,598.6654 Q711.1003,598.5026 711.5234,598.5026 Q712.207,598.5026 712.7441,599.0397 Q713.2813,599.5768 713.2813,600.293 Q713.2813,601.0091 712.5651,601.8555 Q711.5234,603.0599 709.8633,603.7435 Q707.6172,604.6875 704.9154,604.6875 Q701.7578,604.6875 699.2513,603.3854 Q697.2005,602.3438 695.7682,600.1139 Q694.3359,597.8841 694.3359,595.2148 L694.3359,592.806 Q694.3359,590.0391 695.6217,587.6465 Q696.9076,585.2539 699.1862,583.9681 Q701.4648,582.6823 704.0365,582.6823 Q705.5664,582.6823 706.9173,583.0241 Q708.2682,583.3659 709.4076,584.1146 Z "/><ellipse cx="756.7708" cy="591.6667" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="769.2708" y="602.9378">final</text><text fill="#000000" font-family="sans-serif" font-size="25" lengthAdjust="spacingAndGlyphs" textLength="166.6667" x="825.5208" y="602.9378">SeRequestSet</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="533.3333" x2="1137.5" y1="626.0417" y2="626.0417"/><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="547.9167" y="645.6624"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47.9167" x="572.9167" y="658.1645">final</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="500" x="627.0833" y="658.1645">LinkedHashSet&lt;SeRequest&gt; orderedSetRequests</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="533.3333" x2="1137.5" y1="671.5332" y2="671.5332"/><ellipse cx="554.1667" cy="697.404" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="456.25" x="572.9167" y="703.656">SeRequestSet(Set&lt;SeRequest&gt; seRequests)</text><ellipse cx="554.1667" cy="726.2288" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="385.4167" x="572.9167" y="732.4809">SeRequestSet(SeRequest seRequest)</text><ellipse cx="554.1667" cy="755.0537" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="318.75" x="572.9167" y="761.3057">Set&lt;SeRequest&gt; getRequests()</text><ellipse cx="554.1667" cy="783.8786" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="308.3333" x="572.9167" y="790.1306">SeRequest getSingleRequest()</text><!--class SeResponseSet--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="244.1243" id="SeResponseSet" style="stroke: #A80036; stroke-width: 3.125;" width="568.75" x="130.2083" y="1491.6667"/><ellipse cx="271.3542" cy="1525" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M277.1159,1516.4063 Q277.4414,1515.9505 277.832,1515.7227 Q278.2227,1515.4948 278.6784,1515.4948 Q279.4596,1515.4948 279.9479,1516.0319 Q280.4362,1516.569 280.4362,1517.8385 L280.4362,1520.8659 Q280.4362,1522.1354 279.9479,1522.6888 Q279.4596,1523.2422 278.6784,1523.2422 Q277.9622,1523.2422 277.5391,1522.819 Q277.1159,1522.4284 276.888,1521.3542 Q276.7904,1520.6055 276.3997,1520.2148 Q275.7161,1519.4336 274.4466,1518.9779 Q273.1771,1518.5221 271.875,1518.5221 Q270.2799,1518.5221 268.9616,1519.2057 Q267.6432,1519.8893 266.6178,1521.4518 Q265.5924,1523.0143 265.5924,1525.1628 L265.5924,1527.4414 Q265.5924,1530.013 267.4479,1531.722 Q269.3034,1533.431 272.6237,1533.431 Q274.5768,1533.431 275.944,1532.9102 Q276.7578,1532.5846 277.6367,1531.6732 Q278.1901,1531.1198 278.4993,1530.957 Q278.8086,1530.7943 279.2318,1530.7943 Q279.9154,1530.7943 280.4525,1531.3314 Q280.9896,1531.8685 280.9896,1532.5846 Q280.9896,1533.3008 280.2734,1534.1471 Q279.2318,1535.3516 277.5716,1536.0352 Q275.3255,1536.9792 272.6237,1536.9792 Q269.4661,1536.9792 266.9596,1535.6771 Q264.9089,1534.6354 263.4766,1532.4056 Q262.0443,1530.1758 262.0443,1527.5065 L262.0443,1525.0977 Q262.0443,1522.3307 263.3301,1519.9382 Q264.6159,1517.5456 266.8945,1516.2598 Q269.1732,1514.974 271.7448,1514.974 Q273.2747,1514.974 274.6257,1515.3158 Q275.9766,1515.6576 277.1159,1516.4063 Z "/><ellipse cx="324.4792" cy="1523.9583" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="336.9792" y="1535.2295">final</text><text fill="#000000" font-family="sans-serif" font-size="25" lengthAdjust="spacingAndGlyphs" textLength="189.5833" x="393.2292" y="1535.2295">SeResponseSet</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="132.2917" x2="696.875" y1="1558.3333" y2="1558.3333"/><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="146.875" y="1577.9541"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47.9167" x="171.875" y="1590.4561">final</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="393.75" x="226.0417" y="1590.4561">ArrayList&lt;SeResponse&gt; seResponses</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="132.2917" x2="696.875" y1="1603.8249" y2="1603.8249"/><ellipse cx="153.125" cy="1629.6956" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="514.5833" x="171.875" y="1635.9477">SeResponseSet(List&lt;SeResponse&gt; seResponses)</text><ellipse cx="153.125" cy="1658.5205" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="441.6667" x="171.875" y="1664.7725">SeResponseSet(SeResponse seResponse)</text><ellipse cx="153.125" cy="1687.3454" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="358.3333" x="171.875" y="1693.5974">List&lt;SeResponse&gt; getResponses()</text><ellipse cx="153.125" cy="1716.1702" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="345.8333" x="171.875" y="1722.4223">SeResponse getSingleResponse()</text><!--class ApduRequest--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="186.4746" id="ApduRequest" style="stroke: #A80036; stroke-width: 3.125;" width="541.6667" x="2256.25" y="1023.9583"/><ellipse cx="2400.5208" cy="1057.2917" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M2406.2826,1048.6979 Q2406.6081,1048.2422 2406.9987,1048.0143 Q2407.3893,1047.7865 2407.8451,1047.7865 Q2408.6263,1047.7865 2409.1146,1048.3236 Q2409.6029,1048.8607 2409.6029,1050.1302 L2409.6029,1053.1576 Q2409.6029,1054.4271 2409.1146,1054.9805 Q2408.6263,1055.5339 2407.8451,1055.5339 Q2407.1289,1055.5339 2406.7057,1055.1107 Q2406.2826,1054.7201 2406.0547,1053.6458 Q2405.957,1052.8971 2405.5664,1052.5065 Q2404.8828,1051.7253 2403.6133,1051.2695 Q2402.3438,1050.8138 2401.0417,1050.8138 Q2399.4466,1050.8138 2398.1283,1051.4974 Q2396.8099,1052.181 2395.7845,1053.7435 Q2394.7591,1055.306 2394.7591,1057.4544 L2394.7591,1059.7331 Q2394.7591,1062.3047 2396.6146,1064.0137 Q2398.4701,1065.7227 2401.7904,1065.7227 Q2403.7435,1065.7227 2405.1107,1065.2018 Q2405.9245,1064.8763 2406.8034,1063.9648 Q2407.3568,1063.4115 2407.666,1063.2487 Q2407.9753,1063.0859 2408.3984,1063.0859 Q2409.082,1063.0859 2409.6191,1063.623 Q2410.1563,1064.1602 2410.1563,1064.8763 Q2410.1563,1065.5924 2409.4401,1066.4388 Q2408.3984,1067.6432 2406.7383,1068.3268 Q2404.4922,1069.2708 2401.7904,1069.2708 Q2398.6328,1069.2708 2396.1263,1067.9688 Q2394.0755,1066.9271 2392.6432,1064.6973 Q2391.2109,1062.4674 2391.2109,1059.7982 L2391.2109,1057.3893 Q2391.2109,1054.6224 2392.4967,1052.2298 Q2393.7826,1049.8372 2396.0612,1048.5514 Q2398.3398,1047.2656 2400.9115,1047.2656 Q2402.4414,1047.2656 2403.7923,1047.6074 Q2405.1432,1047.9492 2406.2826,1048.6979 Z "/><ellipse cx="2453.6458" cy="1056.25" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="2466.1458" y="1067.5212">final</text><text fill="#000000" font-family="sans-serif" font-size="25" lengthAdjust="spacingAndGlyphs" textLength="156.25" x="2522.3958" y="1067.5212">ApduRequest</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="2258.3333" x2="2795.8333" y1="1090.625" y2="1090.625"/><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="2272.9167" y="1110.2458"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="147.9167" x="2297.9167" y="1122.7478">boolean case4</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="2258.3333" x2="2795.8333" y1="1136.1165" y2="1136.1165"/><ellipse cx="2279.1667" cy="1161.9873" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="487.5" x="2297.9167" y="1168.2393">ApduRequest(ByteBuffer bytes, boolean case4)</text><ellipse cx="2279.1667" cy="1190.8122" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="183.3333" x="2297.9167" y="1197.0642">boolean isCase4()</text><!--class ApduResponse--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="186.4746" id="ApduResponse" style="stroke: #A80036; stroke-width: 3.125;" width="610.4167" x="1555.2083" y="2008.3333"/><ellipse cx="1722.3958" cy="2041.6667" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M1728.1576,2033.0729 Q1728.4831,2032.6172 1728.8737,2032.3893 Q1729.2643,2032.1615 1729.7201,2032.1615 Q1730.5013,2032.1615 1730.9896,2032.6986 Q1731.4779,2033.2357 1731.4779,2034.5052 L1731.4779,2037.5326 Q1731.4779,2038.8021 1730.9896,2039.3555 Q1730.5013,2039.9089 1729.7201,2039.9089 Q1729.0039,2039.9089 1728.5807,2039.4857 Q1728.1576,2039.0951 1727.9297,2038.0208 Q1727.832,2037.2721 1727.4414,2036.8815 Q1726.7578,2036.1003 1725.4883,2035.6445 Q1724.2188,2035.1888 1722.9167,2035.1888 Q1721.3216,2035.1888 1720.0033,2035.8724 Q1718.6849,2036.556 1717.6595,2038.1185 Q1716.6341,2039.681 1716.6341,2041.8294 L1716.6341,2044.1081 Q1716.6341,2046.6797 1718.4896,2048.3887 Q1720.3451,2050.0977 1723.6654,2050.0977 Q1725.6185,2050.0977 1726.9857,2049.5768 Q1727.7995,2049.2513 1728.6784,2048.3398 Q1729.2318,2047.7865 1729.541,2047.6237 Q1729.8503,2047.4609 1730.2734,2047.4609 Q1730.957,2047.4609 1731.4941,2047.998 Q1732.0313,2048.5352 1732.0313,2049.2513 Q1732.0313,2049.9674 1731.3151,2050.8138 Q1730.2734,2052.0182 1728.6133,2052.7018 Q1726.3672,2053.6458 1723.6654,2053.6458 Q1720.5078,2053.6458 1718.0013,2052.3438 Q1715.9505,2051.3021 1714.5182,2049.0723 Q1713.0859,2046.8424 1713.0859,2044.1732 L1713.0859,2041.7643 Q1713.0859,2038.9974 1714.3717,2036.6048 Q1715.6576,2034.2122 1717.9362,2032.9264 Q1720.2148,2031.6406 1722.7865,2031.6406 Q1724.3164,2031.6406 1725.6673,2031.9824 Q1727.0182,2032.3242 1728.1576,2033.0729 Z "/><ellipse cx="1775.5208" cy="2040.625" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="1788.0208" y="2051.8962">final</text><text fill="#000000" font-family="sans-serif" font-size="25" lengthAdjust="spacingAndGlyphs" textLength="179.1667" x="1844.2708" y="2051.8962">ApduResponse</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="1557.2917" x2="2163.5417" y1="2075" y2="2075"/><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="1571.875" y="2094.6208"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="197.9167" x="1596.875" y="2107.1228">boolean successful</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="1557.2917" x2="2163.5417" y1="2120.4915" y2="2120.4915"/><ellipse cx="1578.125" cy="2146.3623" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="556.25" x="1596.875" y="2152.6143">ApduResponse(ByteBuffer bytes, boolean successful)</text><ellipse cx="1578.125" cy="2175.1872" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="233.3333" x="1596.875" y="2181.4392">boolean isSuccessful()</text><!--class SeRequest--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="359.4238" id="SeRequest" style="stroke: #A80036; stroke-width: 3.125;" width="1414.5833" x="1438.5417" y="501.0417"/><ellipse cx="2032.8125" cy="534.375" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M2038.5742,525.7813 Q2038.8997,525.3255 2039.2904,525.0977 Q2039.681,524.8698 2040.1367,524.8698 Q2040.918,524.8698 2041.4063,525.4069 Q2041.8945,525.944 2041.8945,527.2135 L2041.8945,530.2409 Q2041.8945,531.5104 2041.4063,532.0638 Q2040.918,532.6172 2040.1367,532.6172 Q2039.4206,532.6172 2038.9974,532.194 Q2038.5742,531.8034 2038.3464,530.7292 Q2038.2487,529.9805 2037.8581,529.5898 Q2037.1745,528.8086 2035.9049,528.3529 Q2034.6354,527.8971 2033.3333,527.8971 Q2031.7383,527.8971 2030.4199,528.5807 Q2029.1016,529.2643 2028.0762,530.8268 Q2027.0508,532.3893 2027.0508,534.5378 L2027.0508,536.8164 Q2027.0508,539.388 2028.9063,541.097 Q2030.7617,542.806 2034.082,542.806 Q2036.0352,542.806 2037.4023,542.2852 Q2038.2161,541.9596 2039.0951,541.0482 Q2039.6484,540.4948 2039.9577,540.332 Q2040.2669,540.1693 2040.6901,540.1693 Q2041.3737,540.1693 2041.9108,540.7064 Q2042.4479,541.2435 2042.4479,541.9596 Q2042.4479,542.6758 2041.7318,543.5221 Q2040.6901,544.7266 2039.0299,545.4102 Q2036.7839,546.3542 2034.082,546.3542 Q2030.9245,546.3542 2028.418,545.0521 Q2026.3672,544.0104 2024.9349,541.7806 Q2023.5026,539.5508 2023.5026,536.8815 L2023.5026,534.4727 Q2023.5026,531.7057 2024.7884,529.3132 Q2026.0742,526.9206 2028.3529,525.6348 Q2030.6315,524.349 2033.2031,524.349 Q2034.7331,524.349 2036.084,524.6908 Q2037.4349,525.0326 2038.5742,525.7813 Z "/><ellipse cx="2085.9375" cy="533.3333" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="2098.4375" y="544.6045">final</text><text fill="#000000" font-family="sans-serif" font-size="25" lengthAdjust="spacingAndGlyphs" textLength="129.1667" x="2154.6875" y="544.6045">SeRequest</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="1440.625" x2="2851.0417" y1="567.7083" y2="567.7083"/><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="1455.2083" y="587.3291"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="283.3333" x="1480.2083" y="599.8311">ByteBuffer[0..1] aidToSelect</text><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="1455.2083" y="616.154"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="408.3333" x="1480.2083" y="628.656">ArrayList&lt;ApduRequest&gt; apduRequests</text><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="1455.2083" y="644.9788"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="287.5" x="1480.2083" y="657.4809">SeProtocol[0..1] protocolFlag</text><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="1455.2083" y="673.8037"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="268.75" x="1480.2083" y="686.3057">boolean keepChannelOpen</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="1440.625" x2="2851.0417" y1="699.6745" y2="699.6745"/><ellipse cx="1461.4583" cy="725.5452" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="1360.4167" x="1480.2083" y="731.7973">SeRequest(ByteBuffer[0..1] aidToSelect, List&lt;ApduRequest&gt; apduRequests,  boolean keepChannelOpen, SeProtocol[0..1] protocolFlag)</text><ellipse cx="1461.4583" cy="754.3701" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="285.4167" x="1480.2083" y="760.6222">ByteBuffer getAidToSelect()</text><ellipse cx="1461.4583" cy="783.195" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="402.0833" x="1480.2083" y="789.447">List&lt;ApduRequest&gt; getApduRequests()</text><ellipse cx="1461.4583" cy="812.0199" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="306.25" x="1480.2083" y="818.2719">boolean isKeepChannelOpen()</text><ellipse cx="1461.4583" cy="840.8447" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="285.4167" x="1480.2083" y="847.0968">SeProtocol getProtocolFlag()</text><!--class SeResponse--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="359.4238" id="SeResponse" style="stroke: #A80036; stroke-width: 3.125;" width="1425" x="343.75" y="2358.3333"/><ellipse cx="931.7708" cy="2391.6667" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M937.5326,2383.0729 Q937.8581,2382.6172 938.2487,2382.3893 Q938.6393,2382.1615 939.0951,2382.1615 Q939.8763,2382.1615 940.3646,2382.6986 Q940.8529,2383.2357 940.8529,2384.5052 L940.8529,2387.5326 Q940.8529,2388.8021 940.3646,2389.3555 Q939.8763,2389.9089 939.0951,2389.9089 Q938.3789,2389.9089 937.9557,2389.4857 Q937.5326,2389.0951 937.3047,2388.0208 Q937.207,2387.2721 936.8164,2386.8815 Q936.1328,2386.1003 934.8633,2385.6445 Q933.5938,2385.1888 932.2917,2385.1888 Q930.6966,2385.1888 929.3783,2385.8724 Q928.0599,2386.556 927.0345,2388.1185 Q926.0091,2389.681 926.0091,2391.8294 L926.0091,2394.1081 Q926.0091,2396.6797 927.8646,2398.3887 Q929.7201,2400.0977 933.0404,2400.0977 Q934.9935,2400.0977 936.3607,2399.5768 Q937.1745,2399.2513 938.0534,2398.3398 Q938.6068,2397.7865 938.916,2397.6237 Q939.2253,2397.4609 939.6484,2397.4609 Q940.332,2397.4609 940.8691,2397.998 Q941.4063,2398.5352 941.4063,2399.2513 Q941.4063,2399.9674 940.6901,2400.8138 Q939.6484,2402.0182 937.9883,2402.7018 Q935.7422,2403.6458 933.0404,2403.6458 Q929.8828,2403.6458 927.3763,2402.3438 Q925.3255,2401.3021 923.8932,2399.0723 Q922.4609,2396.8424 922.4609,2394.1732 L922.4609,2391.7643 Q922.4609,2388.9974 923.7467,2386.6048 Q925.0326,2384.2122 927.3112,2382.9264 Q929.5898,2381.6406 932.1615,2381.6406 Q933.6914,2381.6406 935.0423,2381.9824 Q936.3932,2382.3242 937.5326,2383.0729 Z "/><ellipse cx="984.8958" cy="2390.625" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="50" x="997.3958" y="2401.8962">final</text><text fill="#000000" font-family="sans-serif" font-size="25" lengthAdjust="spacingAndGlyphs" textLength="152.0833" x="1053.6458" y="2401.8962">SeResponse</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="345.8333" x2="1766.6667" y1="2425" y2="2425"/><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="360.4167" y="2444.6208"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="322.9167" x="385.4167" y="2457.1228">boolean channelPreviouslyOpen</text><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="360.4167" y="2473.4456"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="239.5833" x="385.4167" y="2485.9477">ApduResponse[0..1] atr</text><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="360.4167" y="2502.2705"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="237.5" x="385.4167" y="2514.7725">ApduResponse[0..1] fci</text><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="360.4167" y="2531.0954"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="445.8333" x="385.4167" y="2543.5974">ArrayList&lt;ApduResponse&gt; apduResponses</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="345.8333" x2="1766.6667" y1="2556.9661" y2="2556.9661"/><ellipse cx="366.6667" cy="2582.8369" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="1370.8333" x="385.4167" y="2589.0889">SeResponse(boolean channelPreviouslyOpen, ApduResponse[0..1] atr, ApduResponse[0..1] fci, List&lt;ApduResponse&gt; apduResponses)</text><ellipse cx="366.6667" cy="2611.6618" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="387.5" x="385.4167" y="2617.9138">boolean wasChannelPreviouslyOpen()</text><ellipse cx="366.6667" cy="2640.4867" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="241.6667" x="385.4167" y="2646.7387">ApduResponse getAtr()</text><ellipse cx="366.6667" cy="2669.3115" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="239.5833" x="385.4167" y="2675.5636">ApduResponse getFci()</text><ellipse cx="366.6667" cy="2698.1364" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="439.5833" x="385.4167" y="2704.3884">List&lt;ApduResponse&gt; getApduResponses()</text><!--class SeProtocol--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="128.8249" id="SeProtocol" style="stroke: #A80036; stroke-width: 3.125;" width="222.9167" x="1959.375" y="1053.125"/><ellipse cx="1994.375" cy="1086.4583" fill="#B4A7E5" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M1996.3607,1079.4596 L1996.3607,1093.3268 L1999.9414,1093.3268 Q2001.2109,1093.3268 2001.7643,1093.8151 Q2002.3177,1094.3034 2002.3177,1095.1172 Q2002.3177,1095.8984 2001.7643,1096.3867 Q2001.2109,1096.875 1999.9414,1096.875 L1989.2318,1096.875 Q1987.9622,1096.875 1987.4089,1096.3867 Q1986.8555,1095.8984 1986.8555,1095.0846 Q1986.8555,1094.3034 1987.4089,1093.8151 Q1987.9622,1093.3268 1989.2318,1093.3268 L1992.8125,1093.3268 L1992.8125,1079.4596 L1989.2318,1079.4596 Q1987.9622,1079.4596 1987.4089,1078.9714 Q1986.8555,1078.4831 1986.8555,1077.6693 Q1986.8555,1076.888 1987.4089,1076.3997 Q1987.9622,1075.9115 1989.2318,1075.9115 L1999.9414,1075.9115 Q2001.2109,1075.9115 2001.7643,1076.3997 Q2002.3177,1076.888 2002.3177,1077.6693 Q2002.3177,1078.4831 2001.7643,1078.9714 Q2001.2109,1079.4596 1999.9414,1079.4596 L1996.3607,1079.4596 Z "/><ellipse cx="2034.7917" cy="1085.4167" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="125" x="2047.2917" y="1096.6878">SeProtocol</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="1961.4583" x2="2180.2083" y1="1119.7917" y2="1119.7917"/><line style="stroke: #A80036; stroke-width: 3.125;" x1="1961.4583" x2="2180.2083" y1="1136.4583" y2="1136.4583"/><ellipse cx="1982.2917" cy="1162.3291" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="168.75" x="2001.0417" y="1168.5811">String getName()</text><!--class AbstractApduBuffer--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="186.4746" id="AbstractApduBuffer" style="stroke: #A80036; stroke-width: 3.125;" width="450" x="2625" y="1519.7917"/><ellipse cx="2719.2708" cy="1553.125" fill="#A9DCDF" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M2723.8281,1556.8034 L2715.2018,1556.8034 L2714.3229,1558.9518 L2715.2018,1558.9518 Q2716.4714,1558.9518 2717.0247,1559.4401 Q2717.5781,1559.9284 2717.5781,1560.7422 Q2717.5781,1561.5234 2717.0247,1562.0117 Q2716.4714,1562.5 2715.2018,1562.5 L2710.4167,1562.5 Q2709.1471,1562.5 2708.61,1562.0117 Q2708.0729,1561.5234 2708.0729,1560.7096 Q2708.0729,1559.9284 2708.6426,1559.4238 Q2709.2122,1558.9193 2710.5143,1558.9518 L2716.0807,1545.0846 L2713.7695,1545.0846 Q2712.5,1545.0846 2711.9466,1544.5964 Q2711.3932,1544.1081 2711.3932,1543.2943 Q2711.3932,1542.513 2711.9466,1542.0247 Q2712.5,1541.5365 2713.7695,1541.5365 L2721.4193,1541.5365 L2728.4831,1558.9518 Q2729.7201,1558.9518 2730.1107,1559.2448 Q2730.9245,1559.7982 2730.9245,1560.7422 Q2730.9245,1561.5234 2730.3874,1562.0117 Q2729.8503,1562.5 2728.5807,1562.5 L2723.7956,1562.5 Q2722.526,1562.5 2721.9727,1562.0117 Q2721.4193,1561.5234 2721.4193,1560.7096 Q2721.4193,1559.9284 2721.9727,1559.4401 Q2722.526,1558.9518 2723.7956,1558.9518 L2724.6745,1558.9518 L2723.8281,1556.8034 Z M2722.3307,1553.2552 L2719.4987,1546.224 L2716.6341,1553.2552 L2722.3307,1553.2552 Z "/><polygon fill="#FFFF44" points="2772.3958,1541.6667,2780.7292,1550,2772.3958,1558.3333,2764.0625,1550" style="stroke: #B38D22; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="220.8333" x="2784.8958" y="1563.3545">AbstractApduBuffer</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="2627.0833" x2="3072.9167" y1="1586.4583" y2="1586.4583"/><rect fill="none" height="12.5" style="stroke: #C82930; stroke-width: 2.0833333333333335;" width="12.5" x="2641.6667" y="1606.0791"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="47.9167" x="2666.6667" y="1618.5811">final</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="172.9167" x="2720.8333" y="1618.5811">ByteBuffer bytes</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="2627.0833" x2="3072.9167" y1="1631.9499" y2="1631.9499"/><ellipse cx="2647.9167" cy="1657.8206" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="222.9167" x="2666.6667" y="1664.0727">AbstractApduBuffer()</text><ellipse cx="2647.9167" cy="1686.6455" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="395.8333" x="2666.6667" y="1692.8975">ByteBuffer getBytes(ByteBuffer bytes)</text><path d="M772.9167,1381.25 L772.9167,1844.9382 A0,0 0 0 0 772.9167,1844.9382 L1389.5833,1844.9382 A0,0 0 0 0 1389.5833,1844.9382 L1389.5833,1402.0833 L1368.75,1381.25 L1041.7354,1381.25 L998.2479,1211.6875 L1025.0688,1381.25 L772.9167,1381.25 A0,0 0 0 0 772.9167,1381.25 " fill="#FBFB77" filter="url(#fvswy0b97lg4t)" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M1368.75,1381.25 L1368.75,1402.0833 L1389.5833,1402.0833 L1368.75,1381.25 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="572.9167" x="785.4167" y="1419.7815">- To operate the transmission of SeRequestSet,</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="114.5833" x="785.4167" y="1453.8472">a specific</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64.5833" x="908.3333" y="1453.8472">local</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="208.3333" x="981.25" y="1453.8472">reader processes</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="343.75" x="785.4167" y="1487.913">the sorted list of SeRequest.</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="518.75" x="785.4167" y="1521.9788">- According to SeRequest protocolFlag and</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="454.1667" x="785.4167" y="1556.0445">to the current status of the reader (RF</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="418.75" x="785.4167" y="1590.1103">protocol involved / current ATR) the</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="535.4167" x="785.4167" y="1624.176">processing of a specific SeRequest could be</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="102.0833" x="785.4167" y="1658.2418">skipped.</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="391.6667" x="785.4167" y="1692.3075">- When processing a SeRequest</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="464.5833" x="802.0833" y="1726.3733">o if necessary a new logical channel is</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="402.0833" x="802.0833" y="1760.439">open (for a specific AID if defined)</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="508.3333" x="802.0833" y="1794.5048">o and ApduRequest are transmited one by</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="43.75" x="802.0833" y="1828.5706">one</text><path d="M354.1667,217.7083 L354.1667,374.8047 A0,0 0 0 0 354.1667,374.8047 L827.0833,374.8047 L835.4167,558.7708 L843.75,374.8047 L1316.6667,374.8047 A0,0 0 0 0 1316.6667,374.8047 L1316.6667,238.5417 L1295.8333,217.7083 L354.1667,217.7083 A0,0 0 0 0 354.1667,217.7083 " fill="#FBFB77" filter="url(#fvswy0b97lg4t)" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M1295.8333,217.7083 L1295.8333,238.5417 L1316.6667,238.5417 L1295.8333,217.7083 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="918.75" x="366.6667" y="256.2398">- A SeRequestSet could contain several SeRequest to manage the selection</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="420.8333" x="366.6667" y="290.3056">of different types of PO application.</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="870.8333" x="366.6667" y="324.3713">- To exchange APDU commands with a soecific selected PO application</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="406.25" x="366.6667" y="358.4371">a single SeRequest is necessary.</text><path d="M1526.0417,217.7083 L1526.0417,374.8047 A0,0 0 0 0 1526.0417,374.8047 L2009.1604,374.8047 L2070.6813,500.5625 L2025.8271,374.8047 L2444.7917,374.8047 A0,0 0 0 0 2444.7917,374.8047 L2444.7917,238.5417 L2423.9583,217.7083 L1526.0417,217.7083 A0,0 0 0 0 1526.0417,217.7083 " fill="#FBFB77" filter="url(#fvswy0b97lg4t)" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M2423.9583,217.7083 L2423.9583,238.5417 L2444.7917,238.5417 L2423.9583,217.7083 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="843.75" x="1538.5417" y="256.2398">- For PO requiring an AID selection, the aidToSelect should be defined</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="875" x="1538.5417" y="290.3056">with non null value. For PO not supporting AID selection, the aidToSelect</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="306.25" x="1538.5417" y="324.3713">should be defined as null.</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="485.4167" x="1538.5417" y="358.4371">- The protocolFlag parameter is optional.</text><!--class ContactlessProtocols--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="388.2487" id="ContactlessProtocols" style="stroke: #A80036; stroke-width: 3.125;" width="335.4167" x="1842.7083" y="1419.7917"/><ellipse cx="1873.9583" cy="1453.125" fill="#EB937F" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M1871.582,1454.7852 L1871.582,1459.9935 L1880.599,1459.9935 L1880.599,1458.0729 Q1880.599,1456.8034 1881.1035,1456.25 Q1881.6081,1455.6966 1882.3893,1455.6966 Q1883.1706,1455.6966 1883.6589,1456.25 Q1884.1471,1456.8034 1884.1471,1458.0729 L1884.1471,1463.5417 L1867.4805,1463.5417 Q1866.1784,1463.5417 1865.6413,1463.0534 Q1865.1042,1462.5651 1865.1042,1461.7513 Q1865.1042,1460.9701 1865.6576,1460.4818 Q1866.2109,1459.9935 1867.4805,1459.9935 L1868.0339,1459.9935 L1868.0339,1446.1263 L1867.4805,1446.1263 Q1866.1784,1446.1263 1865.6413,1445.638 Q1865.1042,1445.1497 1865.1042,1444.3359 Q1865.1042,1443.5547 1865.6413,1443.0664 Q1866.1784,1442.5781 1867.4805,1442.5781 L1883.3659,1442.5781 L1883.3659,1447.9818 Q1883.3659,1449.2513 1882.8939,1449.7884 Q1882.4219,1450.3255 1881.6081,1450.3255 Q1880.8268,1450.3255 1880.3385,1449.7884 Q1879.8503,1449.2513 1879.8503,1447.9818 L1879.8503,1446.1263 L1871.582,1446.1263 L1871.582,1451.237 L1874.6745,1451.237 Q1874.6745,1449.8698 1874.9349,1449.4792 Q1875.4883,1448.6328 1876.4648,1448.6328 Q1877.2461,1448.6328 1877.7344,1449.1699 Q1878.2227,1449.707 1878.2227,1450.9766 L1878.2227,1455.0781 Q1878.2227,1456.2174 1877.9622,1456.6081 Q1877.4089,1457.4219 1876.4648,1457.4219 Q1875.4883,1457.4219 1874.9349,1456.5755 Q1874.6745,1456.1849 1874.6745,1454.7852 L1871.582,1454.7852 Z "/><ellipse cx="1913.5417" cy="1452.0833" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" lengthAdjust="spacingAndGlyphs" textLength="245.8333" x="1926.0417" y="1463.3545">ContactlessProtocols</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="1844.7917" x2="2176.0417" y1="1486.4583" y2="1486.4583"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="252.0833" x="1855.2083" y="1555.7393">PROTOCOL_ISO14443_4</text><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 1.0,2.0;" x1="1844.7917" x2="1965.625" y1="1517.5374" y2="1517.5374"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="89.5833" x="1965.625" y="1525.8728">standard</text><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 1.0,2.0;" x1="2055.2083" x2="2176.0417" y1="1517.5374" y2="1517.5374"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="268.75" x="1855.2083" y="1621.7224">PROTOCOL_ISO14443_3A</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="266.6667" x="1855.2083" y="1650.5473">PROTOCOL_ISO14443_3B</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="216.6667" x="1855.2083" y="1679.3722">PROTOCOL_B_PRIME</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="245.8333" x="1855.2083" y="1708.197">PROTOCOL_MIFARE_UL</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="310.4167" x="1855.2083" y="1737.0219">PROTOCOL_MIFARE_CLASSIC</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="304.1667" x="1855.2083" y="1765.8468">PROTOCOL_MIFARE_DESFIRE</text><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="287.5" x="1855.2083" y="1794.6716">PROTOCOL_MEMORY_ST25</text><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 1.0,2.0;" x1="1844.7917" x2="1955.2083" y1="1583.5205" y2="1583.5205"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="110.4167" x="1955.2083" y="1591.8559">proprietary</text><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 1.0,2.0;" x1="2065.625" x2="2176.0417" y1="1583.5205" y2="1583.5205"/><!--class ContactsProtocols--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="149.3164" id="ContactsProtocols" style="stroke: #A80036; stroke-width: 3.125;" width="300" x="2252.0833" y="1538.5417"/><ellipse cx="2283.3333" cy="1571.875" fill="#EB937F" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M2280.957,1573.5352 L2280.957,1578.7435 L2289.974,1578.7435 L2289.974,1576.8229 Q2289.974,1575.5534 2290.4785,1575 Q2290.9831,1574.4466 2291.7643,1574.4466 Q2292.5456,1574.4466 2293.0339,1575 Q2293.5221,1575.5534 2293.5221,1576.8229 L2293.5221,1582.2917 L2276.8555,1582.2917 Q2275.5534,1582.2917 2275.0163,1581.8034 Q2274.4792,1581.3151 2274.4792,1580.5013 Q2274.4792,1579.7201 2275.0326,1579.2318 Q2275.5859,1578.7435 2276.8555,1578.7435 L2277.4089,1578.7435 L2277.4089,1564.8763 L2276.8555,1564.8763 Q2275.5534,1564.8763 2275.0163,1564.388 Q2274.4792,1563.8997 2274.4792,1563.0859 Q2274.4792,1562.3047 2275.0163,1561.8164 Q2275.5534,1561.3281 2276.8555,1561.3281 L2292.7409,1561.3281 L2292.7409,1566.7318 Q2292.7409,1568.0013 2292.2689,1568.5384 Q2291.7969,1569.0755 2290.9831,1569.0755 Q2290.2018,1569.0755 2289.7135,1568.5384 Q2289.2253,1568.0013 2289.2253,1566.7318 L2289.2253,1564.8763 L2280.957,1564.8763 L2280.957,1569.987 L2284.0495,1569.987 Q2284.0495,1568.6198 2284.3099,1568.2292 Q2284.8633,1567.3828 2285.8398,1567.3828 Q2286.6211,1567.3828 2287.1094,1567.9199 Q2287.5977,1568.457 2287.5977,1569.7266 L2287.5977,1573.8281 Q2287.5977,1574.9674 2287.3372,1575.3581 Q2286.7839,1576.1719 2285.8398,1576.1719 Q2284.8633,1576.1719 2284.3099,1575.3255 Q2284.0495,1574.9349 2284.0495,1573.5352 L2280.957,1573.5352 Z "/><ellipse cx="2322.9167" cy="1570.8333" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" lengthAdjust="spacingAndGlyphs" textLength="210.4167" x="2335.4167" y="1582.1045">ContactsProtocols</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="2254.1667" x2="2550" y1="1605.2083" y2="1605.2083"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="239.5833" x="2264.5833" y="1674.4893">PROTOCOL_ISO7816_3</text><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 1.0,2.0;" x1="2254.1667" x2="2357.2917" y1="1636.2874" y2="1636.2874"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="89.5833" x="2357.2917" y="1644.6228">standard</text><line style="stroke: #A80036; stroke-width: 2.0833333333333335; stroke-dasharray: 1.0,2.0;" x1="2446.875" x2="2550" y1="1636.2874" y2="1636.2874"/><!--class SeProtocolSettings--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="157.6497" id="SeProtocolSettings" style="stroke: #A80036; stroke-width: 3.125;" width="306.25" x="1463.5417" y="1534.375"/><ellipse cx="1494.7917" cy="1567.7083" fill="#B4A7E5" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M1496.7773,1560.7096 L1496.7773,1574.5768 L1500.3581,1574.5768 Q1501.6276,1574.5768 1502.181,1575.0651 Q1502.7344,1575.5534 1502.7344,1576.3672 Q1502.7344,1577.1484 1502.181,1577.6367 Q1501.6276,1578.125 1500.3581,1578.125 L1489.6484,1578.125 Q1488.3789,1578.125 1487.8255,1577.6367 Q1487.2721,1577.1484 1487.2721,1576.3346 Q1487.2721,1575.5534 1487.8255,1575.0651 Q1488.3789,1574.5768 1489.6484,1574.5768 L1493.2292,1574.5768 L1493.2292,1560.7096 L1489.6484,1560.7096 Q1488.3789,1560.7096 1487.8255,1560.2214 Q1487.2721,1559.7331 1487.2721,1558.9193 Q1487.2721,1558.138 1487.8255,1557.6497 Q1488.3789,1557.1615 1489.6484,1557.1615 L1500.3581,1557.1615 Q1501.6276,1557.1615 1502.181,1557.6497 Q1502.7344,1558.138 1502.7344,1558.9193 Q1502.7344,1559.7331 1502.181,1560.2214 Q1501.6276,1560.7096 1500.3581,1560.7096 L1496.7773,1560.7096 Z "/><ellipse cx="1534.375" cy="1566.6667" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="25" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="216.6667" x="1546.875" y="1577.9378">SeProtocolSettings</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="1465.625" x2="1767.7083" y1="1601.0417" y2="1601.0417"/><line style="stroke: #A80036; stroke-width: 3.125;" x1="1465.625" x2="1767.7083" y1="1617.7083" y2="1617.7083"/><ellipse cx="1486.4583" cy="1643.5791" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="210.4167" x="1505.2083" y="1649.8311">SeProtocol getFlag();</text><ellipse cx="1486.4583" cy="1672.404" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" textLength="177.0833" x="1505.2083" y="1678.656">String getValue();</text><!--class ByteBufferUtils--><rect fill="#FEFECE" filter="url(#fvswy0b97lg4t)" height="359.4238" id="ByteBufferUtils" style="stroke: #A80036; stroke-width: 3.125;" width="616.6667" x="747.9167" y="2895.8333"/><ellipse cx="964.0625" cy="2929.1667" fill="#ADD1B2" rx="22.9167" ry="22.9167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><path d="M969.8242,2920.5729 Q970.1497,2920.1172 970.5404,2919.8893 Q970.931,2919.6615 971.3867,2919.6615 Q972.168,2919.6615 972.6563,2920.1986 Q973.1445,2920.7357 973.1445,2922.0052 L973.1445,2925.0326 Q973.1445,2926.3021 972.6563,2926.8555 Q972.168,2927.4089 971.3867,2927.4089 Q970.6706,2927.4089 970.2474,2926.9857 Q969.8242,2926.5951 969.5964,2925.5208 Q969.4987,2924.7721 969.1081,2924.3815 Q968.4245,2923.6003 967.1549,2923.1445 Q965.8854,2922.6888 964.5833,2922.6888 Q962.9883,2922.6888 961.6699,2923.3724 Q960.3516,2924.056 959.3262,2925.6185 Q958.3008,2927.181 958.3008,2929.3294 L958.3008,2931.6081 Q958.3008,2934.1797 960.1563,2935.8887 Q962.0117,2937.5977 965.332,2937.5977 Q967.2852,2937.5977 968.6523,2937.0768 Q969.4661,2936.7513 970.3451,2935.8398 Q970.8984,2935.2865 971.2077,2935.1237 Q971.5169,2934.9609 971.9401,2934.9609 Q972.6237,2934.9609 973.1608,2935.498 Q973.6979,2936.0352 973.6979,2936.7513 Q973.6979,2937.4674 972.9818,2938.3138 Q971.9401,2939.5182 970.2799,2940.2018 Q968.0339,2941.1458 965.332,2941.1458 Q962.1745,2941.1458 959.668,2939.8438 Q957.6172,2938.8021 956.1849,2936.5723 Q954.7526,2934.3424 954.7526,2931.6732 L954.7526,2929.2643 Q954.7526,2926.4974 956.0384,2924.1048 Q957.3242,2921.7122 959.6029,2920.4264 Q961.8815,2919.1406 964.4531,2919.1406 Q965.9831,2919.1406 967.334,2919.4824 Q968.6849,2919.8242 969.8242,2920.5729 Z "/><text fill="#000000" font-family="sans-serif" font-size="25" lengthAdjust="spacingAndGlyphs" textLength="166.6667" x="1006.7708" y="2939.3962">ByteBufferUtils</text><line style="stroke: #A80036; stroke-width: 3.125;" x1="750" x2="1362.5" y1="2962.5" y2="2962.5"/><line style="stroke: #A80036; stroke-width: 3.125;" x1="750" x2="1362.5" y1="2979.1667" y2="2979.1667"/><ellipse cx="770.8333" cy="3005.0374" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="320.8333" x="789.5833" y="3011.2895">ByteBuffer fromHex(String hex)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="789.5833" x2="1110.4167" y1="3015.4561" y2="3015.4561"/><ellipse cx="770.8333" cy="3033.8623" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="318.75" x="789.5833" y="3040.1143">String toHex(ByteBuffer buffer)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="789.5833" x2="1108.3333" y1="3044.281" y2="3044.281"/><ellipse cx="770.8333" cy="3062.6872" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="391.6667" x="789.5833" y="3068.9392">String toHex(List&lt;ByteBuffer&gt; buffers)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="789.5833" x2="1181.25" y1="3073.1059" y2="3073.1059"/><ellipse cx="770.8333" cy="3091.512" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="350" x="789.5833" y="3097.7641">String toHex(ByteBuffer... buffers)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="789.5833" x2="1139.5833" y1="3101.9307" y2="3101.9307"/><ellipse cx="770.8333" cy="3120.3369" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="550" x="789.5833" y="3126.5889">String toHexCutLen(ByteBuffer buffer, int... cutLength)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="789.5833" x2="1339.5833" y1="3130.7556" y2="3130.7556"/><ellipse cx="770.8333" cy="3149.1618" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="335.4167" x="789.5833" y="3155.4138">byte[] toBytes(ByteBuffer buffer)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="789.5833" x2="1125" y1="3159.5805" y2="3159.5805"/><ellipse cx="770.8333" cy="3177.9867" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="541.6667" x="789.5833" y="3184.2387">ByteBuffer subIndex(ByteBuffer buf, int start, int end)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="789.5833" x2="1331.25" y1="3188.4054" y2="3188.4054"/><ellipse cx="770.8333" cy="3206.8115" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="562.5" x="789.5833" y="3213.0636">ByteBuffer subLen(ByteBuffer buf, int offset, int length)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="789.5833" x2="1352.0833" y1="3217.2302" y2="3217.2302"/><ellipse cx="770.8333" cy="3235.6364" fill="#84BE84" rx="6.25" ry="6.25" style="stroke: #038048; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="22.9167" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="539.5833" x="789.5833" y="3241.8884">ByteBuffer concat(ByteBuffer buf1, ByteBuffer buf2)</text><line style="stroke: #000000; stroke-width: 1.0;" x1="789.5833" x2="1329.1667" y1="3246.0551" y2="3246.0551"/><!--entity ##53--><!--link SeRequestSet to ProxyReader--><path d="M875.2688,803.1667 C898.45,872.8958 927.2188,959.3958 948.6021,1023.7083 " fill="none" id="SeRequestSet-ProxyReader" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="#000000" points="952.0833,946.875,958.3333,934.375,964.5833,946.875,952.0833,946.875" style="stroke: #000000; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="72.9167" x="925" y="981.2398">sends</text><!--link ProxyReader to SeResponseSet--><path d="M870.8521,1211.7292 C828.475,1247.8542 779.5417,1289.7896 735.4167,1328.125 C674.2708,1381.2479 607.0313,1440.5 549.9708,1491.0292 " fill="none" id="ProxyReader-SeResponseSet" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="#000000" points="810.4167,1289.9495,797.9167,1296.1995,810.4167,1302.4495,810.4167,1289.9495" style="stroke: #000000; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="97.9167" x="822.9167" y="1304.1565">receives</text><!--link SeRequestSet to SeRequest--><path d="M1167.5396,681.25 C1242.9083,681.25 1325.8854,681.25 1410.6771,681.25 " fill="none" id="SeRequestSet-SeRequest" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="#A80036" points="1438.2625,681.25,1419.5125,672.9167,1427.8458,681.25,1419.5125,689.5833,1438.2625,681.25" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335;" x1="1427.8458" x2="1411.1792" y1="681.25" y2="681.25"/><polygon fill="#FFFFFF" points="1140.1708,681.25,1152.6708,689.5833,1165.1708,681.25,1152.6708,672.9167,1140.1708,681.25" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="222.9167" x="1177.6042" y="667.6982">sortedSeRequests</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="45.8333" x="1156.0424" y="710.1808">0..1</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="16.6667" x="1404.8168" y="675.6611">+</text><!--link SeRequest to ApduRequest--><path d="M2321.0208,881.9792 C2357.4375,923.2708 2394.6042,965.4167 2427.1667,1002.3333 " fill="none" id="SeRequest-ApduRequest" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="#A80036" points="2445.7708,1023.4167,2439.6103,1003.8449,2438.8774,1015.6072,2427.1151,1014.8743,2445.7708,1023.4167" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335;" x1="2438.8774" x2="2427.8542" y1="1015.6072" y2="1003.1042"/><polygon fill="#FFFFFF" points="2303.1042,861.6667,2305.1287,876.5528,2319.6483,880.4094,2317.6238,865.5233,2303.1042,861.6667" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="172.9167" x="2383.3333" y="954.1565">apduRequests</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="45.8333" x="2267.9772" y="905.5553">0..1</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="10.4167" x="2422.1057" y="1001.3422">*</text><!--link ApduRequest to AbstractApduBuffer--><path d="M2587.4375,1211.6875 C2637.9167,1288.5417 2710.4375,1398.9792 2766.5,1484.3104 " fill="none" id="ApduRequest-AbstractApduBuffer" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="none" points="2778.7083,1476.3417,2789.3958,1519.1729,2754.3333,1492.3521,2778.7083,1476.3417" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="95.8333" x="2652.0833" y="1304.1565">extends</text><!--link AbstractApduBuffer to ApduResponse--><path d="M2738.2292,1736.9854 C2693.9583,1779.6167 2640.4792,1824.9063 2585.4167,1857.2917 C2456.4167,1933.1563 2300.4167,1989.2729 2166.2083,2028.325 " fill="none" id="AbstractApduBuffer-ApduResponse" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="none" points="2728.2083,1726.3917,2768.0417,1707.3646,2748.7708,1747.0813,2728.2083,1726.3917" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="95.8333" x="2475" y="1938.5315">extends</text><!--link ApduResponse to SeResponse--><path d="M1665.6813,2208.85 C1589.3,2249.9104 1499.175,2298.3563 1411.9979,2345.2208 " fill="none" id="ApduResponse-SeResponse" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="#FFFFFF" points="1388.1063,2358.0646,1403.0619,2359.4868,1410.1269,2346.2286,1395.1713,2344.8064,1388.1063,2358.0646" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="#A80036" points="1689.8729,2195.8438,1669.4121,2197.3805,1680.6976,2200.7754,1677.3027,2212.0609,1689.8729,2195.8438" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335;" x1="1680.6976" x2="1666.0188" y1="2200.7754" y2="2208.6677"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="193.75" x="1554.1667" y="2288.5315">apduResponses</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="10.4167" x="1654.7411" y="2239.611">*</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="45.8333" x="1368.8224" y="2335.9782">0..1</text><!--link SeResponseSet to SeResponse--><path d="M514.5375,1759.0667 C622.2854,1913.6896 794.6167,2160.9979 915.9188,2335.075 " fill="none" id="SeResponseSet-SeResponse" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="#A80036" points="931.5667,2357.5292,927.6833,2337.3816,925.6109,2348.983,914.0095,2346.9107,931.5667,2357.5292" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><line style="stroke: #A80036; stroke-width: 2.0833333333333335;" x1="925.6109" x2="916.0833" y1="2348.983" y2="2335.3094"/><polygon fill="#FFFFFF" points="498.4708,1736.0083,498.7808,1751.0283,512.7646,1756.519,512.4546,1741.4991,498.4708,1736.0083" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="164.5833" x="810.4167" y="2113.5315">seResponses</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="45.8333" x="459.6873" y="1780.2312">0..1</text><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="16.6667" x="903.8846" y="2336.0118">+</text><!--link SeProtocol to ContactlessProtocols--><path d="M2057.9167,1224.8958 C2050.95,1281.5833 2042.1354,1353.3333 2033.9958,1419.575 " fill="none" id="SeProtocol-ContactlessProtocols" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="none" points="2043.5021,1222.6458,2063.0583,1183.0625,2072.4521,1226.1875,2043.5021,1222.6458" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="95.8333" x="2052.0833" y="1304.1565">extends</text><!--link SeProtocol to ContactsProtocols--><path d="M2138.3542,1216.8333 C2162.5625,1251.8125 2189.9375,1291.6438 2214.5833,1328.125 C2262.6458,1399.2333 2316.6458,1481.0375 2354.2917,1538.4083 " fill="none" id="SeProtocol-ContactsProtocols" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><polygon fill="none" points="2126.3125,1225.0417,2114.5625,1182.4792,2150.2708,1208.4167,2126.3125,1225.0417" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="95.8333" x="2204.1667" y="1304.1565">extends</text><!--link ContactlessProtocols to ContactsProtocols--><!--link SeRequest to SeProtocol--><path d="M2114.8958,861.6667 C2103.1042,929.5625 2090.4375,1002.625 2081.7208,1052.875 " fill="none" id="SeRequest-SeProtocol" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="206.25" x="2104.1667" y="954.1565">SE Protocol Flag</text><!--link ProxyReader to SeProtocol--><path d="M1350.2792,1117.7083 C1563.5292,1117.7083 1816.5542,1117.7083 1958.9271,1117.7083 " fill="none" id="ProxyReader-SeProtocol" style="stroke: #A80036; stroke-width: 2.0833333333333335;"/><text fill="#000000" font-family="sans-serif" font-size="27.0833" lengthAdjust="spacingAndGlyphs" textLength="254.1667" x="1527.6042" y="1104.1565">SE Protocol Settings</text><!--link SeProtocol to ApduRequest--><!--link SeResponse to ByteBufferUtils--><!--
@startuml
skinparam dpi 200

package org.eclipse.keyple #FFFFFF {

package seproxy #FFFFFF {

+interface ReadersPlugin {
  +SortedSet<? extends ProxyReader> getReaders()
}

+interface ProxyReader {
  +boolean isSePresent()
  +void addSeProtocolSetting(SeProtocolSetting seProtocolSetting);
  +SeResponseSet transmit(<b>final</b> SeRequestSet seApplicationRequest)
}
hide ReadersPlugin
+class "<b>final</b> SeRequestSet" as SeRequestSet {
  -<b>final</b> LinkedHashSet<SeRequest> orderedSetRequests
  +SeRequestSet(Set<SeRequest> seRequests)
  +SeRequestSet(SeRequest seRequest)
  +Set<SeRequest> getRequests()
  +SeRequest getSingleRequest()
}

+class "<b>final</b> SeResponseSet" as SeResponseSet {
  -<b>final</b> ArrayList<SeResponse> seResponses
  +SeResponseSet(List<SeResponse> seResponses)
  +SeResponseSet(SeResponse seResponse)
  +List<SeResponse> getResponses()
  +SeResponse getSingleResponse()
}
+class "<b>final</b> ApduRequest" as ApduRequest {
  -boolean case4
  +ApduRequest(ByteBuffer bytes, boolean case4)
  +boolean isCase4()
}

+class "<b>final</b> ApduResponse" as ApduResponse {
  -boolean successful
  +ApduResponse(ByteBuffer bytes, boolean successful)
  +boolean isSuccessful()
}
+class "<b>final</b> SeRequest" as SeRequest {
  -ByteBuffer[0..1] aidToSelect
  -ArrayList<ApduRequest> apduRequests
  -SeProtocol[0..1] protocolFlag
  -boolean keepChannelOpen
  +SeRequest(ByteBuffer[0..1] aidToSelect, List<ApduRequest> apduRequests,  boolean keepChannelOpen, SeProtocol[0..1] protocolFlag)
  +ByteBuffer getAidToSelect()
  +List<ApduRequest> getApduRequests()
  +boolean isKeepChannelOpen()
  +SeProtocol getProtocolFlag()
}

+class "<b>final</b> SeResponse" as SeResponse {
  -boolean channelPreviouslyOpen
  -ApduResponse[0..1] atr
  -ApduResponse[0..1] fci
  -ArrayList<ApduResponse> apduResponses
  +SeResponse(boolean channelPreviouslyOpen, ApduResponse[0..1] atr, ApduResponse[0..1] fci, List<ApduResponse> apduResponses)  
  +boolean wasChannelPreviouslyOpen()
  +ApduResponse getAtr()
  +ApduResponse getFci()
  +List<ApduResponse> getApduResponses()
}

+interface SeProtocol {
	+String getName()
}

package protocol #FFFFFF {

+enum ContactlessProtocols {
	.. standard ..
	PROTOCOL_ISO14443_4
	.. proprietary ..
	PROTOCOL_ISO14443_3A
	PROTOCOL_ISO14443_3B
	PROTOCOL_B_PRIME
	PROTOCOL_MIFARE_UL
	PROTOCOL_MIFARE_CLASSIC
	PROTOCOL_MIFARE_DESFIRE
	PROTOCOL_MEMORY_ST25
}

+enum ContactsProtocols {
	.. standard ..
	PROTOCOL_ISO7816_3
}

+interface SeProtocolSettings {
  +SeProtocol getFlag();
  +String getValue();
}
}

#abstract AbstractApduBuffer {
  -<b>final</b> ByteBuffer bytes
  +AbstractApduBuffer()
  +ByteBuffer getBytes(ByteBuffer bytes)
}


note bottom of ProxyReader
  - To operate the transmission of SeRequestSet,
  a specific <b>local</b> reader processes
  the sorted list of SeRequest.
  - According to SeRequest protocolFlag and
  to the current status of the reader (RF
  protocol involved / current ATR) the
  processing of a specific SeRequest could be
  skipped.
  - When processing a SeRequest
    o if necessary a new logical channel is
    open (for a specific AID if defined)
    o and ApduRequest are transmited one by
    one
end note

note top of SeRequestSet
 - A SeRequestSet could contain several SeRequest to manage the selection
 of different types of PO application.
 - To exchange APDU commands with a soecific selected PO application
 a single SeRequest is necessary.
end note

note top of SeRequest
 - For PO requiring an AID selection, the aidToSelect should be defined
 with non null value. For PO not supporting AID selection, the aidToSelect
 should be defined as null.
 - The protocolFlag parameter is optional.
end note
}

package util #FFFFFF {
  class ByteBufferUtils {
    +{static}ByteBuffer fromHex(String hex)
    +{static}String toHex(ByteBuffer buffer)
    +{static}String toHex(List<ByteBuffer> buffers)
    +{static}String toHex(ByteBuffer... buffers)
    +{static}String toHexCutLen(ByteBuffer buffer, int... cutLength)
    +{static}byte[] toBytes(ByteBuffer buffer)
    +{static}ByteBuffer subIndex(ByteBuffer buf, int start, int end)
    +{static}ByteBuffer subLen(ByteBuffer buf, int offset, int length)
    +{static}ByteBuffer concat(ByteBuffer buf1, ByteBuffer buf2)
    
  }
}
}

together {
  interface SeProtocol
  enum ContactlessProtocols
  enum ContactsProtocols
  interface ProxyReader
  abstract AbstractApduBuffer
  class ApduRequest
  class ApduResponse
  class SeRequest
  class SeRequestSet
  class SeResponse
  class SeResponseSet
}





ProxyReader -up- SeRequestSet : sends >
ProxyReader -down- SeResponseSet : receives >

SeRequestSet "0..1" o-right-> "+" SeRequest : sortedSeRequests
SeRequest "0..1" o-down-> "*" ApduRequest : apduRequests

ApduRequest -down-|> AbstractApduBuffer : extends
ApduResponse -up-|> AbstractApduBuffer : extends

SeResponse "0..1" o-up-> "*" ApduResponse : apduResponses
SeResponseSet "0..1" o-right-> "+" SeResponse : seResponses

SeProtocol <|- - ContactlessProtocols : extends
SeProtocol <|- - ContactsProtocols : extends
ContactsProtocols -left[hidden]- ContactlessProtocols

SeRequest - - SeProtocol : SE Protocol Flag
ProxyReader -right- SeProtocol : SE Protocol Settings
SeProtocol -right[hidden]- ApduRequest
SeResponse -down[hidden]- ByteBufferUtils

@enduml

PlantUML version 1.2018.08(Sun Jun 24 16:31:00 MUT 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_162-b12
Operating System: Windows 10
OS Version: 10.0
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>